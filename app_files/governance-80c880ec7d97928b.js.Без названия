(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4345],{29914:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return Te},default:function(){return _e}});var n=r(59499),o=r(49501),a=r(62097),s=r(61225),i=r(29630),c=r(79072),l=r(5152),u=r(67294),p=r(34637),d=r(59379),x=r(39052),h=r(75331),f=r(56365),v=r(75084),g=r(30120),j=r(81645),m=r(28533),b=r(68861),y=r(85802),w=r(57609),O=r(74815),P=r(85893);function Z(e){var t=e.text,r=e.href,n=(0,y.Yh)((function(e){return e.trackEvent}));return(0,P.jsx)(v.Z,{variant:"surface",size:"small",sx:{minWidth:"unset"},component:b.rU,href:r,target:"_blank",rel:"noopener",onClick:function(){return n(w.vh.EXTERNAL_LINK,{Link:t})},children:(0,P.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center"},children:[t,(0,P.jsx)(j.Z,{sx:{ml:1,fontSize:14},children:(0,P.jsx)(f.Z,{})})]})})}var k=function(){var e=(0,a.Z)(),t=(0,s.Z)(e.breakpoints.up("lg")),r=(0,s.Z)(e.breakpoints.down("xsm")),n=(0,y.Yh)((function(e){return e.trackEvent}));return(0,P.jsx)(O.f,{titleComponent:(0,P.jsxs)(g.Z,{mb:4,children:[(0,P.jsx)(m.Z,{wrapperSx:{mb:4},chainId:h.a_.mainnet}),(0,P.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,P.jsx)("img",{src:"/aave.svg",width:"32px",height:"32px",alt:""}),(0,P.jsx)(i.Z,{variant:r?"h2":t?"display1":"h1",sx:{ml:2,mr:3},children:(0,P.jsx)(o.cC,{id:"Aave Governance"})})]}),(0,P.jsxs)(i.Z,{sx:{color:"#8E92A3",maxWidth:"824px"},children:[(0,P.jsx)(o.cC,{id:"Aave is a fully decentralized, community governed protocol by the AAVE token-holders. AAVE token-holders collectively discuss, propose, and vote on upgrades to the protocol. AAVE token-holders (Ethereum network only) can either vote themselves on new proposals or delagate to an address of choice. To learn more check out the Governance"})," ",(0,P.jsx)(b.rU,{onClick:function(){return n(w.vh.EXTERNAL_LINK,{Link:"FAQ Docs Governance"})},href:"https://docs.aave.com/faq/governance",sx:{textDecoration:"underline",color:"#8E92A3"},children:(0,P.jsx)(o.cC,{id:"documentation"})}),"."]})]}),children:(0,P.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap",maxWidth:"sm"},children:[(0,P.jsx)(Z,{text:"SNAPSHOTS",href:"https://snapshot.org/#/aave.eth"}),(0,P.jsx)(Z,{text:"FORUM",href:"https://governance.aave.com/"}),(0,P.jsx)(Z,{text:"FAQ",href:"https://docs.aave.com/faq/governance"})]})})},A=r(4730),C=r(90116),S=r(50029),D=r(87794),E=r.n(D),I=r(99025),T=r(70918),_=r(23149),M=r(74221),N=r(246),F=r.n(N),R=r(13850),G=r(40481),L=r(3483),V=r(67668),W=r(98445),Y=r(45626),z=r(33181),B=r(46541),X=r(31538),U=r(8403),Q=r(28480),q=function(e){var t=e.proposalFilter,r=e.handleSearchQueryChange,n=e.handleChange;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.Z,{variant:"h3",sx:{flexGrow:1},children:(0,P.jsx)(o.cC,{id:"Proposals"})}),(0,P.jsx)(i.Z,{children:(0,P.jsx)(o.cC,{id:"Filter"})}),(0,P.jsxs)(B.Z,{id:"filter",value:t,sx:{minWidth:140},onChange:n,children:[(0,P.jsx)(X.Z,{value:"all",children:(0,P.jsx)(o.cC,{id:"All proposals"})}),Object.keys(z.r).map((function(e){return(0,P.jsx)(X.Z,{value:e,children:e},e)}))]}),(0,P.jsx)(U.M,{wrapperSx:{width:"280px"},placeholder:"Search proposals",onSearchTermChange:r})]})},H=function(e){var t=e.proposalFilter,r=e.handleChange,n=e.handleSearchQueryChange;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Q._,{title:(0,P.jsx)(o.cC,{id:"Proposals"}),titleProps:{variant:"h3"},onSearchTermChange:n,searchPlaceholder:"Search proposals"}),(0,P.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",gap:4},children:[(0,P.jsx)(i.Z,{children:(0,P.jsx)(o.cC,{id:"Filter"})}),(0,P.jsxs)(B.Z,{id:"filter",value:t,sx:{minWidth:140},onChange:r,children:[(0,P.jsx)(X.Z,{value:"all",children:(0,P.jsx)(o.cC,{id:"All proposals"})}),Object.keys(z.r).map((function(e){return(0,P.jsx)(X.Z,{value:e,children:e},e)}))]})]})]})},K=function(e){var t=e.proposalFilter,r=e.handleProposalFilterChange,n=e.handleSearchQueryChange,o=function(e){l(w.xM.FILTER,{filter:e.target.value}),r(e.target.value)},i=(0,a.Z)().breakpoints,c=(0,s.Z)(i.up("md")),l=(0,y.Yh)((function(e){return e.trackEvent}));return(0,P.jsx)(g.Z,{sx:{px:6,py:4,display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},gap:3,borderBottom:"1px solid",borderColor:"divider"},children:c?(0,P.jsx)(q,{proposalFilter:t,handleChange:o,handleSearchQueryChange:n}):(0,P.jsx)(H,{proposalFilter:t,handleChange:o,handleSearchQueryChange:n})})},J=r(21628),$=r(14832),ee=r(5063),te=r(88622),re=r(19201),ne=r(74663);function oe(e){var t=e.proposal,r=e.prerendered,n=e.ipfs,s=(0,re.J)(t),c=s.nayPercent,l=s.yaePercent,u=s.nayVotes,p=s.yaeVotes,d=s.quorumReached,x=s.diffReached,h=(0,a.Z)().palette,f=(0,y.Yh)((function(e){return e.trackEvent})),v=r&&!(0,W.u)(t);return(0,P.jsxs)(g.Z,{sx:{px:6,py:8,display:"flex",flexWrap:"wrap",borderBottom:function(e){return"1px solid ".concat(e.palette.divider)}},component:b.rU,onClick:function(){return f(w.xM.VIEW_AIP,{AIP:t.id})},href:r?b.Z6.prerenderedProposal(t.id):b.Z6.dynamicRenderedProposal(t.id),children:[(0,P.jsxs)(g.Z,{sx:{width:{xs:"100%",lg:"70%"},display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,P.jsx)(i.Z,{variant:"h3",gutterBottom:!0,sx:{overflow:"hidden",textOverflow:"ellipsis"},children:n.title}),(0,P.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",gap:3,flexWrap:"wrap"},children:[(0,P.jsx)(te.U,{state:t.state,loading:v}),(0,P.jsx)(ee.G,{state:t.state,startTimestamp:t.startTimestamp,executionTime:t.executionTime,expirationTimestamp:t.expirationTimestamp,executionTimeWithGracePeriod:t.executionTimeWithGracePeriod}),(0,P.jsx)($.o,{text:(0,P.jsx)(o.cC,{id:"Quorum"}),checked:d,loading:v}),(0,P.jsx)($.o,{text:(0,P.jsx)(o.cC,{id:"Differential"}),checked:x,loading:v}),t.executor===I.QS?(0,P.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,P.jsx)(i.Z,{variant:"subheader2",component:"span",sx:{mr:1},children:"Long Executor"}),(0,P.jsx)(J.Z,{color:d?h.success.main:h.warning.main,height:"16"})]}):null]})]}),(0,P.jsxs)(g.Z,{sx:{flexGrow:1,pl:{xs:0,lg:4},mt:{xs:7,lg:0}},children:[(0,P.jsx)(ne.A,{yae:!0,percent:l,votes:p,sx:{mb:4},loading:v}),(0,P.jsx)(ne.A,{percent:c,votes:u,loading:v})]})]})}var ae=["values"],se=["values"];function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function le(e){var t=e.proposals,r=(0,u.useState)(!0),n=r[0],o=r[1],a=(0,u.useState)(!0),s=a[0],i=a[1],c=(0,u.useState)(t),l=c[0],p=c[1],d=(0,u.useState)("all"),x=d[0],h=d[1],f=(0,u.useState)(""),v=f[0],g=f[1],j=(0,u.useState)(1),m=j[0],b=j[1],y=(0,u.useRef)(new M.Z(t,{keys:["ipfs.title","ipfs.shortDescription"],threshold:.3}));function w(){return(w=(0,S.Z)(E().mark((function e(){var t,r,n,a,s,i,c;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.M.getProposalsCount();case 3:if(t=e.sent,r=[],console.log("fetching ".concat(t-l.length," new proposals")),!(t-l.length)){e.next=26;break}n=l.length;case 8:if(!(n<t)){e.next=24;break}return e.next=11,V.M.getProposal({proposalId:n});case 11:return a=e.sent,a.values,s=(0,A.Z)(a,ae),e.next=16,(0,re.r)(s);case 16:return i=e.sent,e.next=19,(0,L.m)(i.ipfsHash,Y.d.ipfsGateway);case 19:c=e.sent,r.unshift({ipfs:ce({id:n,originalHash:i.ipfsHash},c),proposal:i,prerendered:!1});case 21:n++,e.next=8;break;case 24:r.map((function(e){return y.current.add(e)})),p((function(e){return[].concat(r,(0,C.Z)(e))}));case 26:o(!1),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log("error fetching new proposals",e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,29]])})))).apply(this,arguments)}function O(){return O=(0,S.Z)(E().mark((function e(){var t,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.filter((function(e){var t=e.proposal;return!(0,W.u)(t)})),e.prev=1,!t.length){e.next=7;break}return e.next=5,Promise.all(t.map(function(){var e=(0,S.Z)(E().mark((function e(t){var r,n,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.proposal,e.next=3,V.M.getProposal({proposalId:r.id});case 3:return n=e.sent,n.values,o=(0,A.Z)(n,se),e.abrupt("return",(0,re.r)(o));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:r=e.sent,p((function(e){return r.map((function(t){e[e.length-1-t.id].proposal=t,e[e.length-1-t.id].prerendered=!1})),e}));case 7:i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("error updating proposals",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),O.apply(this,arguments)}(0,G.W)((function(){return w.apply(this,arguments)}),6e4,!1,[l.length]),(0,G.W)((function(){return O.apply(this,arguments)}),3e4,!1,[l.length]);var Z=(0,u.useMemo)((function(){var e=l.filter((function(e){return"all"===x||e.proposal.state===x})).reduce((function(e,t){return"Active"===t.proposal.state&&t.proposal.executor===I.QS?[t].concat((0,C.Z)(e)):[].concat((0,C.Z)(e),[t])}),[]);return y.current.setCollection(e),e}),[l,x]),k=(0,u.useMemo)((function(){return v?y.current.search(v).map((function(e){return e.item})):Z}),[v,Z]),D=(0,u.useMemo)((function(){return k.slice(0,10*m)}),[k,m]);return(0,P.jsxs)(T.Z,{children:[(0,P.jsx)(K,{proposalFilter:x,handleProposalFilterChange:h,handleSearchQueryChange:function(e){b(1),g(e)}}),(n||s)&&(0,P.jsx)(_.Z,{}),D.length?(0,P.jsx)(F(),{pageStart:1,loadMore:function(){b((function(e){return e+1}))},hasMore:D.length<k.length,children:D.map((function(e){var t=e.proposal,r=e.prerendered,n=e.ipfs;return(0,P.jsx)(oe,{proposal:t,ipfs:n,prerendered:r},t.id)}))}):(0,P.jsx)(R.q,{searchTerm:v})]})}var ue=r(3765),pe=r(44373),de=r(18377),xe=r(50116),he=r(41024),fe=r(92391),ve=r(72667),ge=r(64643),je=r(79979),me=r(85895),be=r(8195),ye=function(e){var t=e.user,r=e.aavePower,n=e.stkAavePower,a=e.aaveDelegatee,s=e.stkAaveDelegatee,c=e.title,l=!a||t===a,u=!s||t===s;return l&&u?null:(0,P.jsxs)(de.Z,{sx:{display:"flex",flexDirection:"column",mt:6,mb:2},children:[(0,P.jsx)(i.Z,{typography:"caption",sx:{mb:5},color:"text.secondary",children:(0,P.jsx)(o.cC,{id:"{title}",values:{title:c}})}),(0,P.jsx)(de.Z,{sx:{display:"flex",gap:4,flexDirection:"column"},children:a===s?(0,P.jsx)(fe.X,{align:"flex-start",caption:(0,P.jsx)(ge.M,{avatarProps:{size:xe.D.XS},titleProps:{variant:"subheader1"},address:a}),children:(0,P.jsxs)(de.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,P.jsx)(he.B,{value:Number(r)+Number(n),variant:"subheader1"}),(0,P.jsx)(i.Z,{variant:"helperText",color:"text.secondary",children:"AAVE + stkAAVE"})]})}):(0,P.jsxs)(P.Fragment,{children:[!l&&(0,P.jsx)(fe.X,{align:"flex-start",caption:(0,P.jsx)(ge.M,{avatarProps:{size:xe.D.XS},titleProps:{variant:"subheader1"},address:a}),children:(0,P.jsxs)(de.Z,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,P.jsx)(ve.T1,{symbol:"AAVE",sx:{width:16,height:16}}),(0,P.jsx)(he.B,{value:r,variant:"subheader1"})]})}),!u&&(0,P.jsx)(fe.X,{align:"flex-start",caption:(0,P.jsx)(ge.M,{avatarProps:{size:xe.D.XS},titleProps:{variant:"subheader1"},address:s}),children:(0,P.jsxs)(de.Z,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,P.jsx)(ve.T1,{symbol:"stkAAVE",sx:{width:16,height:16}}),(0,P.jsx)(he.B,{value:n,variant:"subheader1"})]})})]})})]})},we=function(){var e=(0,y.Yh)((function(e){return e.account})),t=(0,je.S)().data,r=t.aave,n=t.stkAave,a=(0,me.c)().data,s=(0,be.vR)(),c=s.openGovDelegation,l=s.openRevokeGovDelegation,u=(0,y.Yh)((function(e){return e.trackEvent}));if(!a||!e)return null;var p=Number(r)<=0&&Number(n)<=0&&""===a.aavePropositionDelegatee&&""===a.aaveVotingDelegatee&&""===a.stkAavePropositionDelegatee&&""===a.stkAaveVotingDelegatee,d=""!==a.aavePropositionDelegatee||""!==a.aaveVotingDelegatee||""!==a.stkAavePropositionDelegatee||""!==a.stkAaveVotingDelegatee;return(0,P.jsxs)(T.Z,{sx:{mt:2},children:[(0,P.jsxs)(de.Z,{sx:{px:6,pb:6,pt:4},children:[(0,P.jsx)(i.Z,{typography:"h3",children:(0,P.jsx)(o.cC,{id:"Delegated power"})}),(0,P.jsxs)(i.Z,{typography:"description",sx:{mt:1},color:"text.secondary",children:[(0,P.jsx)(o.cC,{id:"Use your AAVE and stkAAVE balance to delegate your voting and proposition powers. You will not be sending any tokens, only the rights to vote and propose changes to the protocol. You can re-delegate or revoke power to self at any time."}),(0,P.jsx)(b.rU,{href:"https://docs.aave.com/developers/v/2.0/protocol-governance/governance",target:"_blank",variant:"description",color:"text.secondary",sx:{textDecoration:"underline",ml:1},onClick:function(){return u(w.vh.EXTERNAL_LINK,{link:"Learn More Delegation"})},children:(0,P.jsx)(o.cC,{id:"Learn more."})})]}),p?(0,P.jsx)(i.Z,{variant:"description",color:"text.muted",mt:6,children:(0,P.jsx)(o.cC,{id:"You have no AAVE/stkAAVE balance to delegate."})}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ye,{aavePower:r,stkAavePower:n,aaveDelegatee:a.aaveVotingDelegatee,stkAaveDelegatee:a.stkAaveVotingDelegatee,user:e,title:"Voting power"}),(0,P.jsx)(ye,{aavePower:r,stkAavePower:n,aaveDelegatee:a.aavePropositionDelegatee,stkAaveDelegatee:a.stkAavePropositionDelegatee,user:e,title:"Proposition power"})]})]}),(0,P.jsx)(pe.Z,{}),(0,P.jsxs)(de.Z,{sx:{p:6,display:"flex",flexDirection:"column",gap:2},children:[(0,P.jsx)(v.Z,{size:"large",sx:{width:"100%"},variant:"contained",disabled:p,onClick:function(){return c()},children:(0,P.jsx)(o.cC,{id:"Set up delegation"})}),d&&(0,P.jsx)(v.Z,{size:"large",sx:{width:"100%"},variant:"outlined",disabled:p,onClick:function(){return l()},children:(0,P.jsx)(o.cC,{id:"Revoke power"})})]})]})},Oe=r(35672),Pe=r(58527),Ze=r(77537);function ke(){var e=(0,Ze.Z)().currentAccount,t=(0,me.c)().data;return(0,P.jsxs)(T.Z,{sx:{px:6,pb:6,pt:4},children:[(0,P.jsx)(i.Z,{variant:"h3",sx:{height:"36px",display:"flex",alignItems:"center",mb:4},children:(0,P.jsx)(o.cC,{id:"Your info"})}),(0,P.jsx)(ge.H,{withLink:!0,avatarProps:{size:xe.D.LG},titleProps:{variant:"h4",addressCompactMode:Oe._.MD},subtitleProps:{variant:"caption",addressCompactMode:Oe._.XXL,color:"text.secondary"},funnel:"Your info: Governance"}),e&&(0,P.jsxs)(g.Z,{sx:{display:"flex",mt:6},children:[(0,P.jsxs)(g.Z,{sx:{display:"flex",flexDirection:"column",mr:"25%"},children:[(0,P.jsx)(Pe.G,{text:"Voting power",variant:"description",textColor:"text.secondary",event:{eventName:w.vh.TOOL_TIP,eventParams:{tooltip:"Voting Power",funnel:"Governance Page"}},children:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.Z,{variant:"subheader2",children:(0,P.jsx)(o.cC,{id:"Your voting power is based on your AAVE/stkAAVE balance and received delegations."})}),(0,P.jsx)(i.Z,{variant:"subheader2",mt:4,children:(0,P.jsx)(o.cC,{id:"Use it to vote for or against active proposals."})})]})}),(0,P.jsx)(he.B,{"data-cy":"voting-power",value:(null===t||void 0===t?void 0:t.votingPower)||0,variant:"h2",visibleDecimals:2})]}),(0,P.jsxs)(g.Z,{children:[(0,P.jsx)(Pe.G,{text:"Proposition power",variant:"description",textColor:"text.secondary",event:{eventName:w.vh.TOOL_TIP,eventParams:{tooltip:"Proposition Power",funnel:"Governance Page"}},children:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.Z,{variant:"subheader2",children:(0,P.jsx)(o.cC,{id:"Your proposition power is based on your AAVE/stkAAVE balance and received delegations."})}),(0,P.jsx)(i.Z,{variant:"subheader2",mt:4,children:(0,P.jsx)(o.cC,{id:"To submit a proposal for minor changes to the protocol, you'll need at least 80.00K power. If you want to change the core code base, you'll need 320k power.<0>Learn more.</0>",components:{0:(0,P.jsx)(b.rU,{href:"https://docs.aave.com/developers/v/2.0/protocol-governance/governance",target:"_blank",variant:"description",sx:{textDecoration:"underline",ml:1}})}})})]})}),(0,P.jsx)(he.B,{"data-cy":"proposition-power",value:(null===t||void 0===t?void 0:t.propositionPower)||0,variant:"h2",visibleDecimals:2})]})]})]})}var Ae=function(){return(0,y.Yh)((function(e){return e.account}))?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ke,{}),(0,P.jsx)(we,{})]}):(0,P.jsxs)(T.Z,{sx:{p:6},children:[(0,P.jsx)(i.Z,{variant:"h3",sx:{mb:{xs:6,xsm:10}},children:(0,P.jsx)(o.cC,{id:"Your info"})}),(0,P.jsx)(i.Z,{sx:{mb:6},color:"text.secondary",children:(0,P.jsx)(o.cC,{id:"Please connect a wallet to view your personal information here."})}),(0,P.jsx)(ue.p,{funnel:"Governance Page"})]})},Ce=r(15446);function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ee,Ie=(0,l.default)((function(){return Promise.all([r.e(2121),r.e(3793),r.e(2926)]).then(r.bind(r,10254)).then((function(e){return e.GovDelegationModal}))}),{loadableGenerated:{webpack:function(){return[10254]}}});!function(e){e[e.PROPOSALS=0]="PROPOSALS",e[e.INFORMATION=1]="INFORMATION"}(Ee||(Ee={}));var Te=!0;function _e(e){var t=(0,a.Z)().breakpoints,r=(0,s.Z)(t.down("lg")),n=(0,u.useState)(Ee.PROPOSALS),l=n[0],x=n[1],h=(0,y.Yh)((function(e){return e.trackEvent}));return(0,u.useEffect)((function(){h("Page Viewed",{"Page Name":"Governance"})}),[h]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(k,{}),(0,P.jsxs)(Ce.O,{children:[(0,P.jsxs)(d.Z,{color:"primary",value:l,exclusive:!0,onChange:function(e,t){return x(t)},sx:{width:{xs:"100%",xsm:"359px"},height:"44px",mb:4,display:{xs:"flex",lg:"none"}},children:[(0,P.jsx)(p.Z,{value:Ee.PROPOSALS,disabled:l===Ee.PROPOSALS,children:(0,P.jsx)(i.Z,{variant:"subheader1",children:(0,P.jsx)(o.cC,{id:"Proposals"})})}),(0,P.jsx)(p.Z,{value:Ee.INFORMATION,disabled:l===Ee.INFORMATION,children:(0,P.jsx)(i.Z,{variant:"subheader1",children:(0,P.jsx)(o.cC,{id:"Your info"})})})]}),r?l===Ee.PROPOSALS?(0,P.jsx)(le,De({},e)):(0,P.jsx)(Ae,{}):(0,P.jsxs)(c.ZP,{container:!0,spacing:4,children:[(0,P.jsx)(c.ZP,{item:!0,md:8,children:(0,P.jsx)(le,De({},e))}),(0,P.jsx)(c.ZP,{item:!0,md:4,children:(0,P.jsx)(Ae,{})})]})]})]})}_e.getLayout=function(e){return(0,P.jsxs)(x.Z,{children:[e,(0,P.jsx)(Ie,{})]})}},28533:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(59499),o=r(49501),a=r(75331),s=r(30120),i=r(29630),c=r(91555),l=r(85893);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e,t){return e===a.a_.mainnet?"Ethereum Mainnet":t.name},x=function(e){var t=e.chainId,r=e.wrapperSx,n=c.m[t];return(0,l.jsxs)(s.Z,{sx:p({display:"flex",alignItems:"center"},r),children:[(0,l.jsx)(i.Z,{variant:"subheader2",sx:{mr:2,color:"#C0CBF6"},children:(0,l.jsx)(o.cC,{id:"Available on"})}),(0,l.jsx)(s.Z,{sx:{height:16,width:16},children:(0,l.jsx)("img",{src:n.networkLogoPath,height:"100%",width:"100%",alt:"Ethereum Mainnet"})}),(0,l.jsx)(i.Z,{variant:"subheader2",sx:{ml:1,color:"#C0CBF6"},children:d(t,n)})]})}},13850:function(e,t,r){"use strict";r.d(t,{q:function(){return l}});var n=r(6022),o=r(62097),a=r(61225),s=r(30120),i=r(29630),c=r(85893),l=function(e){var t=e.searchTerm,r=e.subtitle,l=(0,o.Z)().breakpoints,u=(0,a.Z)(l.down("sm"));return(0,c.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1,pt:15,pb:32,px:4},children:[u?(0,c.jsxs)(s.Z,{sx:{textAlign:"center",maxWidth:"300px"},children:[(0,c.jsx)(i.Z,{variant:"h2",children:n.ag._("No search results{0}",{0:t&&" for"})}),t&&(0,c.jsxs)(i.Z,{sx:{overflowWrap:"anywhere"},variant:"h2",children:["'",t,"'"]})]}):(0,c.jsx)(i.Z,{sx:{textAlign:"center",maxWidth:"480px",overflowWrap:"anywhere"},variant:"h2",children:n.ag._("No search results{0}",{0:t&&" for '".concat(t,"'")})}),r&&(0,c.jsx)(i.Z,{sx:{width:"280px",textAlign:"center"},variant:"description",color:"text.secondary",children:r})]})}},8403:function(e,t,r){"use strict";r.d(t,{M:function(){return v}});var n=r(59499),o=r(53737),a=r(33740),s=r(62097),i=r(61225),c=r(30120),l=r(81011),u=r(80562),p=r(23279),d=r.n(p),x=r(67294),h=r(85893);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var v=function(e){var t=e.onSearchTermChange,r=e.wrapperSx,p=e.placeholder,v=(0,x.useRef)(null),g=(0,x.useState)(""),j=g[0],m=g[1],b=(0,s.Z)().breakpoints,y=(0,i.Z)(b.down("sm")),w=(0,x.useMemo)((function(){return d()((function(e){t(e)}),300)}),[t]);return(0,h.jsxs)(c.Z,{sx:function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({display:"flex",alignItems:"center",gap:2,border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",height:"36px"},r)},children:[(0,h.jsx)(c.Z,{sx:{ml:2,mt:1},children:(0,h.jsx)(o.Z,{height:16})}),(0,h.jsx)(l.ZP,{autoFocus:y,inputRef:v,sx:{width:"100%",fontSize:{xs:16,sm:14}},placeholder:p,value:j,onChange:function(e){m(e.target.value),w(e.target.value)}}),(0,h.jsx)(u.Z,{sx:{p:0,mr:2,visibility:j?"visible":"hidden"},onClick:function(){return function(){var e;m(""),t(""),null===(e=v.current)||void 0===e||e.focus()}()},children:(0,h.jsx)(a.Z,{height:16})})]})}},28480:function(e,t,r){"use strict";r.d(t,{_:function(){return j}});var n=r(59499),o=r(49501),a=r(69743),s=r(62097),i=r(61225),c=r(30120),l=r(29630),u=r(80562),p=r(81645),d=r(75084),x=r(67294),h=r(8403),f=r(85893);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=function(e){var t=e.onSearchTermChange,r=e.searchPlaceholder,n=e.titleProps,v=e.title,j=(0,x.useState)(!1),m=j[0],b=j[1],y=(0,s.Z)().breakpoints,w=(0,i.Z)(y.down("sm")),O=w&&!m,P=!w||!m;return(0,f.jsxs)(c.Z,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[P&&(0,f.jsx)(l.Z,g(g({component:"div",variant:"h2",sx:{mr:4}},n),{},{children:v})),(0,f.jsxs)(c.Z,{sx:{height:"40px",width:m&&w?"100%":"unset",position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[O&&(0,f.jsx)(u.Z,{onClick:function(){return b(!0)},children:(0,f.jsx)(p.Z,{children:(0,f.jsx)(a.Z,{})})}),(m||!w)&&(0,f.jsxs)(c.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,f.jsx)(h.M,{wrapperSx:{width:{xs:"100%",sm:"340px"}},placeholder:r,onSearchTermChange:t}),w&&(0,f.jsx)(d.Z,{sx:{ml:2},onClick:function(){return b(!1),void t("")},children:(0,f.jsx)(l.Z,{variant:"buttonM",children:(0,f.jsx)(o.cC,{id:"Cancel"})})})]})]})]})}},72667:function(e,t,r){"use strict";r.d(t,{Js:function(){return v},T1:function(){return b}});var n=r(83618),o=r(59499),a=r(4730),s=r(89722),i=r(30120),c=r(60082),l=r(67294),u=r(85893),p=["symbol","aToken"],d=["symbols","badgeSymbol"],x=["symbol"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e){var t=e.symbol,r=e.onImageGenerated,n=e.aToken,o=(0,l.useRef)(null),a=(0,l.useRef)(null),s=(0,l.useState)(!0),i=s[0],c=s[1];return(0,l.useEffect)((function(){var e;if(!i&&o.current&&null!==(e=o.current)&&void 0!==e&&e.contentDocument)if(n){var t,s,c,l,u=null===(t=o.current)||void 0===t||null===(s=t.contentDocument)||void 0===s||null===(c=s.childNodes)||void 0===c?void 0:c[0],p=u.getAttribute("width"),d=u.getAttribute("height"),x=u.getAttribute("viewBox");u.setAttribute("x",25),u.setAttribute("width",206),u.setAttribute("y",25),u.setAttribute("height",206),x||u.setAttribute("viewBox","0 0 ".concat(p," ").concat(d)),null===(l=a.current)||void 0===l||l.appendChild(u);var h=(new XMLSerializer).serializeToString(a.current);r("data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(h)))))}else{var f,v=(new XMLSerializer).serializeToString(null===(f=o.current)||void 0===f?void 0:f.contentDocument);r("data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(v)))))}}),[i,n]),(0,u.jsxs)("div",{style:{visibility:"hidden",height:0,width:0,overflow:"hidden"},children:[(0,u.jsx)("object",{style:{opacity:1},ref:o,id:"svg",data:"/icons/tokens/".concat(t.toLowerCase(),".svg"),onLoad:function(){return c(!1)}}),n&&(0,u.jsx)(g,{ref:a})]})}var g=(0,l.forwardRef)((function(e,t){var r=e.symbol;return(0,u.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:t,id:"Group_30952",width:"256",height:"256",viewBox:"0 0 256 256",children:[(0,u.jsxs)("defs",{id:"defs10",children:[(0,u.jsxs)("linearGradient",{id:"linear-gradient",x1:".843",x2:".206",y1:".135",y2:".886",gradientUnits:"objectBoundingBox",children:[(0,u.jsx)("stop",{offset:"0",stopColor:"#b6509e",id:"stop2"}),(0,u.jsx)("stop",{offset:"1",stopColor:"#2ebac6",id:"stop4"})]}),(0,u.jsx)("linearGradient",{id:"linear-gradient-2",x1:".907",x2:".163",y1:".227",y2:".853"})]}),(0,u.jsxs)("g",{id:"Group_29109",children:[(0,u.jsx)("path",{id:"Subtraction_108",fill:"url(#linear-gradient)",d:"M128 256a128.976 128.976 0 0 1-25.8-2.6 127.309 127.309 0 0 1-45.77-19.261 128.366 128.366 0 0 1-46.375-56.315A127.357 127.357 0 0 1 2.6 153.8a129.251 129.251 0 0 1 0-51.593 127.31 127.31 0 0 1 19.26-45.77 128.372 128.372 0 0 1 56.317-46.378A127.33 127.33 0 0 1 102.2 2.6a129.244 129.244 0 0 1 51.593 0 127.308 127.308 0 0 1 45.77 19.26 128.367 128.367 0 0 1 46.375 56.316A127.343 127.343 0 0 1 253.4 102.2a129.248 129.248 0 0 1 0 51.593 127.3 127.3 0 0 1-19.26 45.77 128.382 128.382 0 0 1-56.316 46.375A127.4 127.4 0 0 1 153.8 253.4 128.977 128.977 0 0 1 128 256zm0-242.287a115.145 115.145 0 0 0-23.033 2.322A113.657 113.657 0 0 0 64.1 33.232a114.622 114.622 0 0 0-41.4 50.283 113.7 113.7 0 0 0-6.659 21.452 115.4 115.4 0 0 0 0 46.065 113.66 113.66 0 0 0 17.2 40.866 114.627 114.627 0 0 0 50.282 41.407 113.75 113.75 0 0 0 21.453 6.658 115.381 115.381 0 0 0 46.065 0 113.609 113.609 0 0 0 40.866-17.2 114.622 114.622 0 0 0 41.393-50.278 113.741 113.741 0 0 0 6.659-21.453 115.4 115.4 0 0 0 0-46.065 113.662 113.662 0 0 0-17.2-40.865A114.619 114.619 0 0 0 172.485 22.7a113.74 113.74 0 0 0-21.453-6.659A115.145 115.145 0 0 0 128 13.714z"}),r&&(0,u.jsx)("image",{x:"25",y:"25",href:"/icons/tokens/".concat(r.toLowerCase(),".svg"),width:"206",height:"206"})]})]})}));function j(e){var t=e.symbol,r=e.aToken,n=(0,a.Z)(e,p);return(0,u.jsx)(s.Z,f(f({},n),{},{sx:f({display:"flex",position:"relative",borderRadius:"50%"},n.sx),children:r?(0,u.jsx)(g,{symbol:t}):(0,u.jsx)("img",{src:"/icons/tokens/".concat(t.toLowerCase(),".svg"),width:"100%",height:"100%",alt:"".concat(t," icon")})}))}function m(e){var t=e.symbols,r=e.badgeSymbol,n=(0,a.Z)(e,d);return r?(0,u.jsx)(c.Z,{badgeContent:(0,u.jsx)(j,{symbol:r,sx:{border:"1px solid #fff"},fontSize:"small"}),sx:{".MuiBadge-anchorOriginTopRight":{top:9}},children:t.map((function(e,t){return(0,l.createElement)(j,f(f({},n),{},{key:e,symbol:e,sx:f({ml:0===t?0:"calc(-1 * 0.5em)"},n.sx)}))}))}):(0,u.jsx)(i.Z,{sx:{display:"inline-flex",position:"relative"},children:t.map((function(e,t){return(0,l.createElement)(j,f(f({},n),{},{key:e,symbol:e,sx:f({ml:0===t?0:"calc(-1 * 0.5em)"},n.sx)}))}))})}function b(e){var t=e.symbol,r=(0,a.Z)(e,x),o=t.split("_");if(o.length>1){var s=(0,n.Z)(o),i=s[0],c=s.slice(1);return(0,u.jsx)(m,f(f({},r),{},{symbols:c,badgeSymbol:"/pools/"+i}))}return(0,u.jsx)(j,f({symbol:t},r))}g.displayName="ATokenIcon"},79979:function(e,t,r){"use strict";r.d(t,{S:function(){return i}});var n=r(36492),o=r(85802),a=r(31001),s=r(74946),i=function(){var e=(0,s.z)().governanceWalletBalanceService,t=(0,o.Yh)((function(e){return e.currentMarketData})),r=(0,o.Yh)((function(e){return e.account}));return(0,n.a)({queryFn:function(){return e.getGovernanceTokensBalance(t,r)},queryKey:[a.i.GOVERNANCE_TOKENS,r],enabled:!!r,refetchInterval:a.g,initialData:{aave:"0",stkAave:"0",aAave:"0"}})}},85895:function(e,t,r){"use strict";r.d(t,{c:function(){return i}});var n=r(36492),o=r(85802),a=r(31001),s=r(74946),i=function(){var e=(0,s.z)().governanceService,t=(0,o.Yh)((function(e){return e.account}));return(0,n.a)({queryFn:function(){return e.getPowers({user:t})},queryKey:[a.i.POWERS,t,e.toHash()],enabled:!!t,refetchInterval:a.g})}},3483:function(e,t,r){"use strict";r.d(t,{m:function(){return j}});var n=r(59499),o=r(50029),a=r(87794),s=r.n(a),i=r(56371),c=r(9675),l=r.n(c),u=r(63144),p=r.n(u),d=r(45626),x=r(48764).Buffer;function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={};function g(e,t){return"".concat(t,"/").concat(e)}function j(e,t){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b(t,r);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),console.groupCollapsed("Fetching proposal metadata from IPFS..."),console.info("failed with",r),r!==d.d.ipfsGateway){e.next=15;break}return console.info("retrying with",d.d.fallbackIpfsGateway),console.error(e.t0),console.groupEnd(),e.abrupt("return",j(t,d.d.fallbackIpfsGateway));case 15:throw console.info("exiting"),console.error(e.t0),console.groupEnd(),e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function b(e,t){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)(s().mark((function e(t,r){var n,o,a,c,u,d,h,j,m,b,y;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.startsWith("0x")?i.base58.encode(x.from("1220".concat(t.slice(2)),"hex")):t,!v[n]){e.next=3;break}return e.abrupt("return",v[n]);case 3:return e.next=5,p()(g(n,r));case 5:if((o=e.sent).ok){e.next=8;break}throw Error("Fetch not working");case 8:return e.next=10,o.clone();case 10:return a=e.sent,e.prev=11,e.next=14,o.json();case 14:c=e.sent,u=l()(c.description),d=u.content,h=u.data,v[n]=f(f({},c),{},{ipfsHash:n,description:d},h),e.next=26;break;case 19:return e.prev=19,e.t0=e.catch(11),e.next=23,a.text();case 23:j=e.sent,m=l()(j),b=m.content,y=m.data,v[n]=f(f({},y),{},{ipfsHash:n,description:b});case 26:return e.abrupt("return",v[n]);case 27:case"end":return e.stop()}}),e,null,[[11,19]])})))).apply(this,arguments)}},2554:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/governance",function(){return r(29914)}])},33596:function(){}},function(e){e.O(0,[6146,4653,7529,7406,3160,9675,4746,7704,4815,8073,9774,2888,179],(function(){return t=2554,e(e.s=t);var t}));var t=e.O();_N_E=t}]);