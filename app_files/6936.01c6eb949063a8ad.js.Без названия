"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6936],{84734:function(e,t,n){n.d(t,{v:function(){return a}});var r=n(49501),s=n(68861),o=n(85893),a=function(){return(0,o.jsx)(r.cC,{id:"<0>Ampleforth</0> is a rebasing asset. Visit the <1>documentation</1> to learn more.",components:{0:(0,o.jsx)("b",{}),1:(0,o.jsx)(s.rU,{href:"https://docs.aave.com/developers/v/2.0/guides/ampl-asset-listing",underline:"always"})}})}},81902:function(e,t,n){var r;n.d(t,{R:function(){return r}}),function(e){e.supplyCap="supplyCap",e.borrowCap="borrowCap"}(r||(r={}))},29002:function(e,t,n){n.d(t,{o:function(){return u}});var r=n(59499),s=n(4730),o=n(81645),a=n(85893),i=["sx"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.sx,n=(0,s.Z)(e,i);return(0,a.jsxs)(o.Z,c(c({sx:c({fill:"none",stroke:"#A5A8B6"},t),viewBox:"0 0 21 19",xmlns:"http://www.w3.org/2000/svg","aria-label":"Wallet"},n),{},{children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_3719_3323)",strokeWidth:"2",children:[(0,a.jsx)("path",{d:"M17.3203 17.398H3.32031C2.78988 17.398 2.28117 17.1872 1.9061 16.8122C1.53103 16.4371 1.32031 15.9284 1.32031 15.3979V6.39795C1.32031 5.86752 1.53103 5.35881 1.9061 4.98374C2.28117 4.60866 2.78988 4.39795 3.32031 4.39795H17.3203C17.8507 4.39795 18.3595 4.60866 18.7345 4.98374C19.1096 5.35881 19.3203 5.86752 19.3203 6.39795V15.3979C19.3203 15.9284 19.1096 16.4371 18.7345 16.8122C18.3595 17.1872 17.8507 17.398 17.3203 17.398Z"}),(0,a.jsx)("path",{d:"M14.8203 11.3979C14.6877 11.3979 14.5605 11.3453 14.4668 11.2515C14.373 11.1577 14.3203 11.0306 14.3203 10.8979C14.3203 10.7653 14.373 10.6382 14.4668 10.5444C14.5605 10.4506 14.6877 10.3979 14.8203 10.3979C14.9529 10.3979 15.0801 10.4506 15.1739 10.5444C15.2676 10.6382 15.3203 10.7653 15.3203 10.8979C15.3203 11.0306 15.2676 11.1577 15.1739 11.2515C15.0801 11.3453 14.9529 11.3979 14.8203 11.3979Z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M16.3203 4.39793V2.99993C16.3202 2.69343 16.2497 2.39106 16.1142 2.11615C15.9787 1.84124 15.7818 1.60116 15.5387 1.41444C15.2956 1.22773 15.0129 1.09937 14.7124 1.03929C14.4118 0.979209 14.1015 0.989009 13.8053 1.06793L2.80531 4.00093C2.37937 4.11444 2.00285 4.36549 1.7343 4.71506C1.46575 5.06462 1.32021 5.49312 1.32031 5.93393V6.39793"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_3719_3323",children:(0,a.jsx)("rect",{width:"20",height:"19",fill:"white",transform:"translate(0.320312)"})})})]}))}},25049:function(e,t,n){n.d(t,{Y:function(){return p}});var r=n(59499),s=n(4730),o=n(49501),a=n(81902),i=n(58527),l=n(85893),c=["capType"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=e.capType,n=(0,s.Z)(e,c),r=t===a.R.supplyCap?(0,l.jsx)(o.cC,{id:"This is the total amount that you are able to supply to in this reserve. You are able to supply your wallet balance up until the supply cap is reached."}):(0,l.jsx)(o.cC,{id:"This is the total amount available for you to borrow. You can borrow based on your collateral and until the borrow cap is reached."});return(0,l.jsx)(i.G,d(d({},n),{},{children:r}))}},53601:function(e,t,n){n.d(t,{l:function(){return A},W:function(){return T}});var r=n(59499),s=n(4730),o=n(49501),a=n(33740),i=n(62097),l=n(30120),c=n(29630),u=n(90149),d=n(81011),p=n(80562),x=n(55343),m=n(46541),y=n(31538),b=n(61702),f=n(75084),h=n(67294),v=n(57333),j=n(85802),g=n(25049),C=n(41024),O=n(72667),w=n(85893),k=["onChange"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=h.forwardRef((function(e,t){var n=e.onChange,r=(0,s.Z)(e,k);return(0,w.jsx)(v.Z,P(P({},r),{},{getInputRef:t,onValueChange:function(t){t.value!==e.value&&n({target:{name:e.name,value:t.value||""}})},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))})),T=function(e){var t=e.value,n=e.usdValue,r=e.symbol,s=e.onChange,h=e.disabled,v=e.disableInput,k=e.onSelect,S=e.assets,T=e.capType,Z=e.maxValue,I=e.isMaxSelected,D=e.inputTitle,E=e.balanceText,N=e.loading,R=void 0!==N&&N,B=e.event,M=e.selectOptionHeader,W=e.selectOption,L=e.sx,_=void 0===L?{}:L,H=(0,i.Z)(),U=(0,j.Yh)((function(e){return e.trackEvent})),F=1===S.length?S[0]:S&&S.find((function(e){return e.symbol===r}));return(0,w.jsxs)(l.Z,P(P({},_),{},{children:[(0,w.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,w.jsx)(c.Z,{color:"text.secondary",children:D||(0,w.jsx)(o.cC,{id:"Amount"})}),T&&(0,w.jsx)(g.Y,{capType:T})]}),(0,w.jsxs)(l.Z,{sx:function(e){return{p:"8px 12px",border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",mb:1}},children:[(0,w.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:.5},children:[R?(0,w.jsx)(l.Z,{sx:{flex:1},children:(0,w.jsx)(u.Z,{color:"inherit",size:"16px"})}):(0,w.jsx)(d.ZP,{sx:{flex:1},placeholder:"0.00",disabled:h||v,value:t,autoFocus:!0,onChange:function(e){s&&(Number(e.target.value)>Number(Z)?s("-1"):s(e.target.value))},inputProps:{"aria-label":"amount input",style:{fontSize:"21px",lineHeight:"28,01px",padding:0,height:"28px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},inputComponent:A}),""!==t&&!v&&(0,w.jsx)(p.Z,{sx:{minWidth:0,p:0,left:8,zIndex:1,color:"text.muted","&:hover":{color:"text.secondary"}},onClick:function(){s&&s("")},disabled:h,children:(0,w.jsx)(a.Z,{height:16})}),k&&1!==S.length?(0,w.jsx)(x.Z,{children:(0,w.jsxs)(m.Z,{disabled:h,value:F.symbol,onChange:function(e){var t=S.find((function(t){return t.symbol===e.target.value}));k&&k(t),s&&s("")},variant:"outlined",className:"AssetInput__select","data-cy":"assetSelect",MenuProps:{sx:{maxHeight:"240px",".MuiPaper-root":{border:"dark"===H.palette.mode?"1px solid #EBEBED1F":"unset",boxShadow:"0px 2px 10px 0px #0000001A"}}},sx:{p:0,"&.AssetInput__select .MuiOutlinedInput-input":{p:0,backgroundColor:"transparent",pr:"24px !important"},"&.AssetInput__select .MuiOutlinedInput-notchedOutline":{display:"none"},"&.AssetInput__select .MuiSelect-icon":{color:"text.primary",right:"0%"}},renderValue:function(e){var t=1===S.length?S[0]:S&&S.find((function(t){return t.symbol===e}));return(0,w.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},"data-cy":"assetsSelectedOption_".concat(t.symbol.toUpperCase()),children:[(0,w.jsx)(O.T1,{symbol:t.iconSymbol||t.symbol,aToken:t.aToken,sx:{mr:2,ml:4}}),(0,w.jsx)(c.Z,{variant:"main16",color:"text.primary",children:e})]})},children:[M||void 0,S.map((function(e){return(0,w.jsx)(y.Z,{value:e.symbol,"data-cy":"assetsSelectOption_".concat(e.symbol.toUpperCase()),children:W?W(e):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(O.T1,{aToken:e.aToken,symbol:e.iconSymbol||e.symbol,sx:{fontSize:"22px",mr:1}}),(0,w.jsx)(b.Z,{sx:{mr:6},children:e.symbol}),e.balance&&(0,w.jsx)(C.B,{value:e.balance,compact:!0})]})},e.symbol)}))]})}):(0,w.jsxs)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,w.jsx)(O.T1,{aToken:F.aToken,symbol:F.iconSymbol||F.symbol,sx:{mr:2,ml:4}}),(0,w.jsx)(c.Z,{variant:"h3",sx:{lineHeight:"28px"},"data-cy":"inputAsset",children:r})]})]}),(0,w.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",height:"16px"},children:[R?(0,w.jsx)(l.Z,{sx:{flex:1}}):(0,w.jsx)(C.B,{value:isNaN(Number(n))?0:Number(n),compact:!0,symbol:"USD",variant:"secondary12",color:"text.muted",symbolsColor:"text.muted",flexGrow:1}),F.balance&&s&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(c.Z,{component:"div",variant:"secondary12",color:"text.secondary",children:[E&&""!==E?E:(0,w.jsx)(o.cC,{id:"Balance"})," ",(0,w.jsx)(C.B,{value:F.balance,compact:!0,variant:"secondary12",color:"text.secondary",symbolsColor:"text.disabled"})]}),!v&&(0,w.jsx)(f.Z,{size:"small",sx:{minWidth:0,ml:"7px",p:0},onClick:function(){B&&U(B.eventName,P({},B.eventParams)),s("-1")},disabled:h||I,children:(0,w.jsx)(o.cC,{id:"Max"})})]})]})]})]}))}},63491:function(e,t,n){n.d(t,{D:function(){return x}});var r=n(49501),s=n(5506),o=n(52758),a=n(30120),i=n(81645),l=n(29630),c=n(68346),u=n(75084),d=n(8195),p=n(85893),x=function(e){var t=e.txError,n=(0,d.vR)().close;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",mb:"92px"},children:[(0,p.jsx)(a.Z,{sx:{width:"48px",height:"48px",backgroundColor:"error.200",borderRadius:"50%",mt:14,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,p.jsx)(i.Z,{sx:{color:"error.main",fontSize:"32px"},children:(0,p.jsx)(s.Z,{})})}),(0,p.jsx)(l.Z,{sx:{mt:2},variant:"h2",children:(0,p.jsx)(r.cC,{id:"Transaction failed"})}),(0,p.jsx)(l.Z,{children:(0,p.jsx)(r.cC,{id:"You can report incident to our <0>Discord</0> or<1>Github</1>.",components:{0:(0,p.jsx)(c.Z,{href:"https://discord.com/invite/aave"}),1:(0,p.jsx)(c.Z,{href:"https://github.com/aave/interface"})}})}),(0,p.jsxs)(u.Z,{variant:"outlined",onClick:function(){return navigator.clipboard.writeText(t.rawError.message.toString())},size:"small",sx:{mt:6},children:[(0,p.jsx)(r.cC,{id:"Copy error text"}),(0,p.jsx)(i.Z,{sx:{ml:.5,fontSize:"12px"},children:(0,p.jsx)(o.Z,{})})]})]}),(0,p.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",mt:12},children:(0,p.jsx)(u.Z,{onClick:n,variant:"contained",size:"large",sx:{minHeight:"44px"},children:(0,p.jsx)(r.cC,{id:"Close"})})})]})}},94635:function(e,t,n){n.d(t,{A:function(){return h}});var r=n(80854),s=(n(67294),n(34220)),o=n(80664),a=n(43629),i=n(66209),l=n(8195),c=n(90452),u=n(77537),d=n(85802),p=n(63206),x=n(57609),m=n(78944),y=n(10343),b=n(63491),f=n(85893),h=function(e){var t,n,h=e.hideTitleSymbol,v=e.underlyingAsset,j=e.children,g=e.requiredChainId,C=e.title,O=e.requiredPermission,w=e.keepWrappedSymbol,k=(0,u.Z)().readOnlyModeAddress,S=(0,d.Yh)((function(e){return e.currentMarketData})),P=(0,d.Yh)((function(e){return e.currentNetworkConfig})),A=(0,o.P)(S).walletBalances,T=(0,s.HT)(),Z=T.user,I=T.reserves,D=(0,l.vR)(),E=D.txError,N=D.mainTxState,R=(0,c.T)().permissions,B=(0,i.Q)(g),M=B.isWrongNetwork,W=B.requiredChainId;if(E&&E.blocking)return(0,f.jsx)(b.D,{txError:E});if(O&&p.cr.permissions(S)&&!R.includes(O)&&S.permissionComponent)return(0,f.jsx)(f.Fragment,{children:S.permissionComponent});var L=I.find((function(e){return v.toLowerCase()===r.hP.toLowerCase()?e.isWrappedBaseAsset:v===e.underlyingAsset})),_=null===Z||void 0===Z?void 0:Z.userReservesData.find((function(e){return v.toLowerCase()===r.hP.toLowerCase()?e.reserve.isWrappedBaseAsset:v===e.underlyingAsset})),H=L.isWrappedBaseAsset&&!w?P.baseAssetSymbol:L.symbol;return(0,f.jsxs)(a.hv,{asset:L,children:[!N.success&&(0,f.jsx)(m.E,{title:C,symbol:h?void 0:H}),M&&!k&&(0,f.jsx)(y.I,{networkName:(0,p.Mo)(W).name,chainId:W,event:{eventName:x.vh.SWITCH_NETWORK,eventParams:{asset:v}}}),j({isWrongNetwork:M,nativeBalance:(null===(t=A[r.hP.toLowerCase()])||void 0===t?void 0:t.amount)||"0",tokenBalance:(null===(n=A[L.underlyingAsset.toLowerCase()])||void 0===n?void 0:n.amount)||"0",poolReserve:L,symbol:H,underlyingAsset:v,userReserve:_})]})}},93608:function(e,t,n){n.d(t,{R:function(){return b}});var r=n(49501),s=n(75331),o=n(62097),a=n(30120),i=n(29630),l=n(75084),c=n(67294),u=n(29002),d=n(41024),p=n(72667),x=n(77537),m=n(55200),y=n(85893),b=function(e){var t=e.txHash,n=e.action,b=e.amount,f=e.symbol,h=e.collateral,v=e.rate,j=e.addToken,g=e.customAction,C=e.customText,O=(0,x.Z)().addERC20Token,w=(0,c.useState)(""),k=w[0],S=w[1],P=(0,o.Z)();return(0,y.jsx)(m.R,{txHash:t,children:(0,y.jsxs)(a.Z,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[n&&b&&f&&(0,y.jsx)(i.Z,{children:(0,y.jsx)(r.cC,{id:"You {action} <0/> {symbol}",values:{action:n,symbol:f},components:{0:(0,y.jsx)(d.B,{value:Number(b),compact:!0,variant:"secondary14"})}})}),g&&(0,y.jsxs)(i.Z,{children:[C,g]}),!n&&!b&&f&&(0,y.jsxs)(i.Z,{children:["Your ",f," ",h?"now":"is not"," used as collateral"]}),v&&(0,y.jsx)(i.Z,{children:(0,y.jsx)(r.cC,{id:"You switched to {0} rate",values:{0:v===s.tk.Variable?"variable":"stable"}})}),j&&f&&(0,y.jsxs)(a.Z,{sx:function(e){return{border:"dark"===e.palette.mode?"1px solid ".concat(e.palette.divider):"none",background:"dark"===e.palette.mode?"none":"#F7F7F9",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",mt:"24px"}},children:[(0,y.jsx)(p.T1,{symbol:j.symbol,aToken:!(!j||!j.aToken),sx:{fontSize:"32px",mt:"12px",mb:"8px"}}),(0,y.jsx)(i.Z,{variant:"description",color:"text.primary",sx:{mx:"24px"},children:(0,y.jsx)(r.cC,{id:"Add {0} to wallet to track your balance.",values:{0:j&&j.aToken?"aToken ":"token "}})}),(0,y.jsxs)(l.Z,{onClick:function(){O({address:j.address,decimals:j.decimals,symbol:j.aToken?"a".concat(j.symbol):j.symbol,image:/_/.test(j.symbol)?void 0:k})},variant:"dark"===P.palette.mode?"outlined":"contained",size:"medium",sx:{mt:"8px",mb:"12px"},children:[j.symbol&&!/_/.test(j.symbol)&&(0,y.jsx)(p.Js,{symbol:j.symbol,onImageGenerated:S,aToken:j.aToken}),(0,y.jsx)(u.o,{sx:{width:"20px",height:"20px"}}),(0,y.jsx)(i.Z,{variant:"buttonM",color:"white",ml:"4px",children:(0,y.jsx)(r.cC,{id:"Add to wallet"})})]})]})]})})}},86936:function(e,t,n){n.r(t),n.d(t,{SupplyModal:function(){return le}});var r=n(59499),s=n(49501),o=n(23286),a=n(67294),i=n(8195),l=n(31959),c=n(94635),u=n(80854),d=n(82403),p=n(1279),x=n(20854),m=n(70794),y=n(69331),b=n(84734),f=n(43629),h=n(46930),v=n(85802),j=n(94847),g=n(63206),C=n(57609),O=n(87385),w=n(34220),k=n(81902),S=n(53601),P=n(67916),A=n(93608),T=n(57824),Z=n(94671),I=n(29630),D=n(68346),E=n(68861),N=n(85893),R=function(){return(0,N.jsx)(y.v,{severity:"info",children:(0,N.jsxs)(I.Z,{children:[(0,N.jsx)(s.cC,{id:"Supplying your"})," AAVE"," ",(0,N.jsx)(s.cC,{id:"tokens is not the same as staking them. If you wish to stake your"})," AAVE"," ",(0,N.jsx)(s.cC,{id:"tokens, please go to the"})," ",(0,N.jsx)(D.Z,{href:E.Z6.staking,children:(0,N.jsx)(s.cC,{id:"staking view"})})]})})},B=n(18384),M=function(){return(0,N.jsx)(y.v,{severity:"warning",children:(0,N.jsxs)(I.Z,{children:[(0,N.jsx)(s.cC,{id:"Before supplying"})," SNX"," ",(0,N.jsx)(s.cC,{id:"please check that the amount you want to supply is not currently being used for staking. If it is being used for staking, your transaction might fail."})]})})},W=n(50029),L=n(17674),_=n(4730),H=n(87794),U=n.n(H),F=n(75331),q=n(56371),Y=n(18365),z=n(89291),V=n(19419),G=n(77537),Q=n(32113),K=n(39771),X=n(31001),$=n(67489),J=["amountToSupply","poolAddress","isWrongNetwork","sx","symbol","blocked","decimals","isWrappedBaseAsset"];function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne,re=a.memo((function(e){var t=e.amountToSupply,n=e.poolAddress,r=e.isWrongNetwork,o=e.sx,l=e.symbol,c=e.blocked,d=e.decimals,p=e.isWrappedBaseAsset,x=(0,_.Z)(e,J),m=(0,v.Yh)((function(e){return[e.tryPermit,e.supply,e.supplyWithPermit,e.getApprovedAmount,e.generateSignatureRequest,e.generateApproval,e.walletApprovalMethodPreference,e.estimateGasLimit,e.addTransaction]})),y=(0,L.Z)(m,9),b=y[0],f=y[1],h=y[2],j=y[3],g=y[4],C=y[5],O=y[6],w=y[7],k=y[8],S=(0,i.vR)(),P=S.approvalTxState,A=S.mainTxState,T=S.loadingTxns,I=S.setLoadingTxns,D=S.setApprovalTxState,E=S.setMainTxState,R=S.setGasLimit,B=S.setTxError,M=(0,V.n)(),H=M.refetchPoolData,ee=M.refetchIncentiveData,ne=M.refetchGhoData,re=b({reserveAddress:n,isWrappedBaseAsset:p}),se=(0,G.Z)(),oe=se.signTxData,ae=se.sendTx,ie=(0,a.useState)(!1),le=ie[0],ce=ie[1],ue=(0,a.useState)(),de=ue[0],pe=ue[1],xe=(0,a.useState)(!1),me=xe[0],ye=xe[1],be=(0,a.useState)(),fe=be[0],he=be[1],ve=(0,a.useCallback)(function(){var e=(0,W.Z)(U().mark((function e(r){var s,o;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(de&&!r){e.next=6;break}return I(!0),e.next=4,j({token:n});case 4:s=e.sent,pe(s);case 6:de&&(o=(0,Z.iv)({approvedAmount:de.amount,amount:t,signedAmount:fe?fe.amount:"0"}),ye(o),o&&D({})),I(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[de,I,j,n,t,fe,D]);(0,a.useEffect)((function(){ve()}),[ve]),(0,a.useEffect)((function(){var e=0;le?e=Number(u.eB[F.UQ.supplyWithPermit].recommended):(e=Number(u.eB[F.UQ.supply].recommended),me&&!P.success&&(e+=Number(Z.pQ))),R(e.toString())}),[me,P,le,R]),(0,a.useEffect)((function(){var e=re&&O===Q.n.PERMIT;ce(e)}),[re,O]);var je=function(){var e=(0,W.Z)(U().mark((function e(){var r,s,o,a,i,c;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!me||!de){e.next=27;break}if(!le){e.next=14;break}return r=Math.floor(Date.now()/1e3+3600).toString(),e.next=6,g(te(te({},de),{},{deadline:r,amount:(0,q.parseUnits)(t,d).toString()}));case 6:return s=e.sent,e.next=9,oe(s);case 9:o=e.sent,he({signature:o,deadline:r,amount:t}),D({txHash:z.Z,loading:!1,success:!0}),e.next=27;break;case 14:return a=C(de),D(te(te({},P),{},{loading:!0})),e.next=18,w(a);case 18:return a=e.sent,e.next=21,ae(a);case 21:return i=e.sent,e.next=24,i.wait(1);case 24:D({txHash:i.hash,loading:!1,success:!0}),k(i.hash,{action:F.UQ.approval,txState:"success",asset:n,amount:u.ke,assetName:l}),ve(!0);case 27:e.next=34;break;case 29:e.prev=29,e.t0=e.catch(0),c=(0,K.WG)(e.t0,K.aD.GAS_ESTIMATION,!1),B(c),D({txHash:void 0,loading:!1});case 34:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=(0,W.Z)(U().mark((function e(){var r,s,o,a,i;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,E(te(te({},A),{},{loading:!0})),s=F.UQ.default,!le||!fe){e.next=16;break}return s=F.UQ.supplyWithPermit,o=h({signature:fe.signature,amount:(0,q.parseUnits)(t,d).toString(),reserve:n,deadline:fe.deadline}),e.next=8,w(o);case 8:return o=e.sent,e.next=11,ae(o);case 11:return r=e.sent,e.next=14,r.wait(1);case 14:e.next=26;break;case 16:return s=F.UQ.supply,a=f({amount:(0,q.parseUnits)(t,d).toString(),reserve:n}),e.next=20,w(a);case 20:return a=e.sent,e.next=23,ae(a);case 23:return r=e.sent,e.next=26,r.wait(1);case 26:E({txHash:r.hash,loading:!1,success:!0}),k(r.hash,{action:s,txState:"success",asset:n,amount:t,assetName:l}),Y.queryClient.invalidateQueries({queryKey:[X.i.POOL_TOKENS]}),H&&H(),ee&&ee(),ne&&ne(),e.next=39;break;case 34:e.prev=34,e.t0=e.catch(0),i=(0,K.WG)(e.t0,K.aD.GAS_ESTIMATION,!1),B(i),E({txHash:void 0,loading:!1});case 39:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(){return e.apply(this,arguments)}}();return(0,N.jsx)($.B,te({blocked:c,mainTxState:A,approvalTxState:P,isWrongNetwork:r,requiresAmount:!0,amount:t,symbol:l,preparingTransactions:T,actionText:(0,N.jsx)(s.cC,{id:"Supply {symbol}",values:{symbol:l}}),actionInProgressText:(0,N.jsx)(s.cC,{id:"Supplying {symbol}",values:{symbol:l}}),handleApproval:function(){return je()},handleAction:ge,requiresApproval:me,tryPermit:re,sx:o},x))}));function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.CAP_REACHED=0]="CAP_REACHED"}(ne||(ne={}));var ae=a.memo((function(e){var t,n=e.underlyingAsset,r=e.poolReserve,o=e.userReserve,l=e.isWrongNetwork,c=e.nativeBalance,I=e.tokenBalance,D=(0,w.HT)(),E=D.marketReferencePriceInUsd,W=D.user,L=(0,h.f)(),_=L.currentMarketData,H=L.currentNetworkConfig,U=(0,i.vR)(),F=U.mainTxState,q=U.gasLimit,Y=U.txError,z=(0,f.ov)(),V=z.supplyCap,G=z.debtCeiling,Q=(0,v.Yh)((function(e){return e.poolComputed.minRemainingBaseTokenBalance})),K=(0,a.useState)(""),X=K[0],$=K[1],J=n.toLowerCase()===u.hP.toLowerCase(),ee=J?c:I,te=r.supplyAPY,ne=r.supplyCap,se=r.totalLiquidity,ae=r.isFrozen,ie=r.decimals,le=r.debtCeiling,ce=r.isolationModeTotalDebt,ue=(0,a.useMemo)((function(){return(0,j.I)(ee,{supplyCap:ne,totalLiquidity:se,isFrozen:ae,decimals:ie,debtCeiling:le,isolationModeTotalDebt:ce},n,Q)}),[ee,ne,se,ae,ie,le,ce,n,Q]),de=new m.Z(X).multipliedBy(r.formattedPriceInMarketReferenceCurrency),pe=de.multipliedBy(E).shiftedBy(-d.$3),xe=W?(0,p.hE)(W.totalCollateralMarketReferenceCurrency).plus(de):"-1",me=W?(0,p.hE)(W.totalCollateralMarketReferenceCurrency).multipliedBy(W.currentLiquidationThreshold).plus(de.multipliedBy(r.formattedReserveLiquidationThreshold)).dividedBy(xe):"-1",ye=X===ue,be=W?(0,p.hE)(W.healthFactor):"-1";W&&(!W.isInIsolationMode&&!r.isIsolated||W.isInIsolationMode&&(null===(t=W.isolatedReserve)||void 0===t?void 0:t.underlyingAsset)===r.underlyingAsset)&&(be=(0,x.L1)({collateralBalanceMarketReferenceCurrency:xe,borrowBalanceMarketReferenceCurrency:(0,p.hE)(W.totalBorrowsMarketReferenceCurrency),currentLiquidationThreshold:me}));var fe=W.userReservesData.find((function(e){return e.usageAsCollateralEnabledOnUser&&e.reserve.id!==r.id})),he=!W.isInIsolationMode&&r.isIsolated&&!fe&&(!o||"0"===o.underlyingBalance||o.usageAsCollateralEnabledOnUser),ve={address:r.aTokenAddress,symbol:r.iconSymbol,decimals:r.decimals,aToken:!0},je=(0,Z.yI)(o,W.totalCollateralUSD,W.isInIsolationMode,G.isMaxed),ge={amountToSupply:X,isWrongNetwork:l,poolAddress:J?u.hP:r.underlyingAsset,symbol:J?H.baseAssetSymbol:r.symbol,blocked:!1,decimals:r.decimals,isWrappedBaseAsset:r.isWrappedBaseAsset};return F.success?(0,N.jsx)(A.R,{action:(0,N.jsx)(s.cC,{id:"Supplied"}),amount:X,symbol:J?H.baseAssetSymbol:r.symbol,addToken:ve}):(0,N.jsxs)(N.Fragment,{children:[he&&(0,N.jsx)(B.i,{asset:r.symbol}),V.determineWarningDisplay({supplyCap:V}),G.determineWarningDisplay({debtCeiling:G}),"AMPL"===r.symbol&&(0,N.jsx)(y.v,{sx:{mt:"16px",mb:"40px"},severity:"warning",children:(0,N.jsx)(b.v,{})}),"AAVE"===r.symbol&&g.cr.staking(_)&&(0,N.jsx)(R,{}),"SNX"===r.symbol&&"0"!==ue&&(0,N.jsx)(M,{}),(0,N.jsx)(S.W,{value:X,onChange:function(e){if("-1"===e)$(ue);else{var t=(0,O.$w)(e,r.decimals);$(t)}},usdValue:pe.toString(10),symbol:J?H.baseAssetSymbol:r.symbol,assets:[{balance:ue,symbol:J?H.baseAssetSymbol:r.symbol,iconSymbol:J?H.baseAssetSymbol:r.iconSymbol}],capType:k.R.supplyCap,isMaxSelected:ye,disabled:F.loading,maxValue:ue,balanceText:(0,N.jsx)(s.cC,{id:"Wallet balance"}),event:{eventName:C.vh.MAX_INPUT_SELECTION,eventParams:{asset:r.underlyingAsset,assetName:r.name}}}),(0,N.jsxs)(T.m6,{gasLimit:q,skipLoad:!0,disabled:0===Number(X),children:[(0,N.jsx)(T.oD,{description:(0,N.jsx)(s.cC,{id:"Supply APY"}),value:te,percent:!0}),(0,N.jsx)(T.aE,{incentives:r.aIncentivesData,symbol:r.symbol}),(0,N.jsx)(T.Bx,{collateralType:je}),(0,N.jsx)(T.jz,{visibleHfChange:!!X,healthFactor:W?W.healthFactor:"-1",futureHealthFactor:be.toString(10)})]}),Y&&(0,N.jsx)(P.Q,{txError:Y}),(0,N.jsx)(re,oe({},ge))]})}));function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var le=function(){var e=(0,i.vR)(),t=e.type,n=e.close,a=e.args;return(0,N.jsx)(l.P,{open:t===i.w8.Supply,setOpen:n,children:(0,N.jsx)(c.A,{action:"supply",title:(0,N.jsx)(s.cC,{id:"Supply"}),underlyingAsset:a.underlyingAsset,requiredPermission:o.g.DEPOSITOR,children:function(e){return(0,N.jsx)(ae,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}})})}},18384:function(e,t,n){n.d(t,{i:function(){return l}});var r=n(49501),s=n(29630),o=n(68861),a=n(69331),i=n(85893),l=function(e){var t=e.asset,n=e.severity;return(0,i.jsxs)(a.v,{severity:n||"info",sx:{mb:3},children:[(0,i.jsx)(s.Z,{variant:"subheader1",mb:.5,children:(0,i.jsx)(r.cC,{id:"You are entering Isolation mode"})}),(0,i.jsx)(s.Z,{children:(0,i.jsx)(r.cC,{id:"In Isolation mode, you cannot supply other assets as collateral. A global debt ceiling limits the borrowing power of the isolated asset. To exit isolation mode disable {0} as collateral before borrowing another asset. Read more in our <0>FAQ</0>",values:{0:t||""},components:{0:(0,i.jsx)(o.rU,{href:"https://docs.aave.com/faq/aave-v3-features#isolation-mode"})}})})]})}},94847:function(e,t,n){n.d(t,{x:function(){return i},I:function(){return l}});var r=n(80854),s=n(1279),o=n(70794),a=n(87385);function i(e,t){return"0"===e?new o.Z(-1):new o.Z(e).minus(t)}function l(e,t,n,l){if(t.isFrozen)return"0";var c=(0,s.hE)(e);return c.gt(0)&&n.toLowerCase()===r.hP.toLowerCase()&&(c=c.minus(l)),"0"!==t.supplyCap&&(c=o.Z.min(c,i(t.supplyCap,t.totalLiquidity))),c.lte(0)?"0":(0,a.$w)(c.toString(10),t.decimals)}}}]);