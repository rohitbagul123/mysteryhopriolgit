(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8879],{833:function(e,t,n){"use strict";n.r(t),n.d(t,{BigNumber:function(){return r.O$},formatFixed:function(){return i.S5},FixedFormat:function(){return i.xO},FixedNumber:function(){return i.xs},parseFixed:function(){return i.Ox},_base16To36:function(){return r.t2},_base36To16:function(){return r.g$}});var r=n(2593),i=n(20335)},78435:function(e,t,n){"use strict";n.r(t),n.d(t,{logger:function(){return r.k},Wordlist:function(){return r.D},wordlists:function(){return i.E}});var r=n(48812),i=n(10234)},39647:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="ethers/5.5.4"},5151:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Wordlist=t.version=t.wordlists=t.utils=t.logger=t.errors=t.constants=t.FixedNumber=t.BigNumber=t.ContractFactory=t.Contract=t.BaseContract=t.providers=t.getDefaultProvider=t.VoidSigner=t.Wallet=t.Signer=void 0;var a=n(64146);Object.defineProperty(t,"BaseContract",{enumerable:!0,get:function(){return a.BaseContract}}),Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return a.Contract}}),Object.defineProperty(t,"ContractFactory",{enumerable:!0,get:function(){return a.ContractFactory}});var s=n(833);Object.defineProperty(t,"BigNumber",{enumerable:!0,get:function(){return s.BigNumber}}),Object.defineProperty(t,"FixedNumber",{enumerable:!0,get:function(){return s.FixedNumber}});var l=n(48088);Object.defineProperty(t,"Signer",{enumerable:!0,get:function(){return l.Signer}}),Object.defineProperty(t,"VoidSigner",{enumerable:!0,get:function(){return l.VoidSigner}});var c=n(79911);Object.defineProperty(t,"Wallet",{enumerable:!0,get:function(){return c.Wallet}});var d=o(n(21815));t.constants=d;var u=o(n(24946));t.providers=u;var x=n(24946);Object.defineProperty(t,"getDefaultProvider",{enumerable:!0,get:function(){return x.getDefaultProvider}});var m=n(78435);Object.defineProperty(t,"Wordlist",{enumerable:!0,get:function(){return m.Wordlist}}),Object.defineProperty(t,"wordlists",{enumerable:!0,get:function(){return m.wordlists}});var h=o(n(56371));t.utils=h;var p=n(1581);Object.defineProperty(t,"errors",{enumerable:!0,get:function(){return p.ErrorCode}});var f=n(39647);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return f.version}});var v=new p.Logger(f.version);t.logger=v},62434:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return pe}});var r=n(49501),i=n(30120),o=n(29630),a=n(79072),s=n(5151),l=n(56371),c=n(5152),d=n(67294),u=n(59499),x=n(4730),m=n(70918),h=n(90149),p=n(41024),f=n(72667),v=n(77912),j=n(85893),b=function(e){var t=e.stakedToken,n=e.icon,a=(0,v.I)().data,s="";return"AAVE"==t&&(s=(null===a||void 0===a?void 0:a.aave.stakeApy)||"0"),"ABPT"==t&&(s=(null===a||void 0===a?void 0:a.bpt.stakeApy)||"0"),(0,j.jsxs)(i.Z,{sx:function(e){return{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row",borderRadius:"6px",border:"1px solid ".concat(e.palette.divider),p:4,background:e.palette.background.paper,width:"263px",height:"68px",margin:"0 auto",position:"relative","&:after":{content:"''",position:"absolute",bottom:0,left:"0px",width:"calc(100% + 32px)",height:"1px",bgcolor:"transparent"}}},children:[(0,j.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,j.jsx)(f.T1,{symbol:n}),(0,j.jsx)(o.Z,{variant:"subheader1",color:"text.primary",ml:2,children:t})]}),(0,j.jsxs)(i.Z,{sx:{display:"block",width:{xs:"100%",xsm:"unset"},justifyContent:"space-between",alignItems:"center"},children:[(0,j.jsx)(o.Z,{variant:"subheader2",color:"text.secondary",children:(0,j.jsx)(r.cC,{id:"Staking APR"})}),(0,j.jsx)(p.B,{value:parseFloat(s||"0")/1e4,percent:!0,variant:"secondary14",color:"text.primary"})]})]})},g=n(3765),y=["loading","description","sx"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t=e.loading,n=e.description,i=e.sx,s=(0,x.Z)(e,y);return(0,j.jsx)(m.Z,w(w({},s),{},{sx:w({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1},i),children:(0,j.jsx)(j.Fragment,{children:t?(0,j.jsx)(h.Z,{}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.Z,{variant:"h2",sx:{mb:2},children:(0,j.jsx)(r.cC,{id:"Please, connect your wallet"})}),(0,j.jsx)(o.Z,{sx:{mb:6},color:"text.secondary",children:n||(0,j.jsx)(r.cC,{id:"Please connect your wallet to see your supplies, borrowings, and open positions."})}),(0,j.jsx)(g.p,{funnel:"Staking page"}),(0,j.jsxs)(a.ZP,{container:!0,spacing:1,pt:6,sx:{maxWidth:"543px",textAlign:"right"},children:[(0,j.jsx)(a.ZP,{item:!0,xs:12,sm:6,children:(0,j.jsx)(b,{stakedToken:"AAVE",icon:"aave"})}),(0,j.jsx)(a.ZP,{item:!0,xs:12,sm:6,children:(0,j.jsx)(b,{stakedToken:"ABPT",icon:"bpt"})})]})]})})}))},A=n(15446),Z=n(34637),P=n(59379),O=n(60265),S=n(8195),T=n(39052),E=n(23608),B=n(75084),D=n(41528),_=n(85802),I=n(57609),R=n(56365),U=n(81645),F=n(31959),V=function(e){var t=e.open,n=e.close,a=(0,_.Yh)((function(e){return e.trackEvent}));return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(F.P,{open:t,setOpen:n,children:[(0,j.jsx)(o.Z,{variant:"h2",children:(0,j.jsx)(r.cC,{id:"Get ABP Token"})}),(0,j.jsx)(o.Z,{sx:{my:6},children:(0,j.jsx)(r.cC,{id:"The Aave Balancer Pool Token (ABPT) is a liquidity pool token. You can receive ABPT by depositing a combination of AAVE + ETH in the Balancer liquidity pool. You can then stake your BPT in the Safety Module to secure the protocol and earn Safety Incentives."})}),(0,j.jsx)(B.Z,{variant:"outlined",size:"large",endIcon:(0,j.jsx)(U.Z,{children:(0,j.jsx)(R.Z,{})}),fullWidth:!0,sx:{px:4},href:"https://pools.balancer.exchange/#/pool/0xc697051d1c6296c24ae3bcef39aca743861d9a81/",target:"_blank",rel:"noopener",onClick:function(){return a(I.vh.EXTERNAL_LINK,{Link:"Get APBT Tokens"})},children:(0,j.jsxs)(i.Z,{sx:{display:"flex",flexGrow:1},children:[(0,j.jsx)(f.T1,{symbol:"BAL",sx:{mr:2}}),(0,j.jsx)(r.cC,{id:"Go to Balancer Pool"})]})})]})})},N=function(){var e=(0,d.useState)(null),t=e[0],n=e[1],o=Boolean(t),a=(0,_.Yh)((function(e){return e.trackEvent}));return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(D.y,{title:"Get ABP tokens to stake within the Aave Protocol",children:(0,j.jsx)(B.Z,{variant:"outlined",size:"small",onClick:function(e){a(I.vh.EXTERNAL_LINK,{Link:"Get ABPT Tokens"}),n(e.currentTarget)},"data-cy":"getAbp-token",startIcon:(0,j.jsx)(i.Z,{sx:{mr:-1},children:(0,j.jsx)(f.T1,{symbol:"BAL",sx:{fontSize:"14px"}})}),children:(0,j.jsx)(r.cC,{id:"Get ABP Token"})})}),(0,j.jsx)(V,{open:o,close:function(){n(null)}})]})},L=n(75331),M=n(62097),W=n(61225),G=n(28533),H=n(74815),z=n(68861),Y=n(87369),X=function(e){var t=e.tvl,n=e.stkEmission,a=e.loading,s=(0,M.Z)(),l=(0,W.Z)(s.breakpoints.up("lg")),c=(0,W.Z)(s.breakpoints.down("sm")),d=(0,W.Z)(s.breakpoints.down("xsm")),u=c?"main16":"main21",x=c?"secondary16":"secondary21",m=(0,_.Yh)((function(e){return e.trackEvent}));return(0,j.jsxs)(H.f,{titleComponent:(0,j.jsxs)(i.Z,{mb:4,children:[(0,j.jsx)(G.Z,{wrapperSx:{mb:4},chainId:L.a_.mainnet}),(0,j.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,j.jsx)("img",{src:"/aave.svg",width:"32px",height:"32px",alt:""}),(0,j.jsx)(o.Z,{variant:d?"h2":l?"display1":"h1",sx:{ml:2,mr:3},children:(0,j.jsx)(r.cC,{id:"Staking"})})]}),(0,j.jsxs)(o.Z,{sx:{color:"#8E92A3",maxWidth:"824px"},children:[(0,j.jsx)(r.cC,{id:"AAVE holders (Ethereum network only) can stake their AAVE in the Safety Module to add more security to the protocol and earn Safety Incentives. In the case of a shortfall event, up to 30% of your stake can be slashed to cover the deficit, providing an additional layer of protection for the protocol."})," ",(0,j.jsx)(z.rU,{href:"https://docs.aave.com/faq/migration-and-staking",sx:{textDecoration:"underline",color:"#8E92A3"},onClick:function(){return m(I.vh.EXTERNAL_LINK,{Link:"Staking Risks"})},children:(0,j.jsx)(r.cC,{id:"Learn more about risks involved"})})]})]}),children:[(0,j.jsx)(Y.d,{hideIcon:!0,title:(0,j.jsx)(r.cC,{id:"Funds in the Safety Module"}),loading:a,children:(0,j.jsx)(p.B,{value:t||0,symbol:"USD",variant:u,symbolsVariant:x,symbolsColor:"#A5A8B6",visibleDecimals:2})}),(0,j.jsx)(Y.d,{hideIcon:!0,title:(0,j.jsx)(r.cC,{id:"Total emission per day"}),loading:a,children:(0,j.jsx)(p.B,{value:n||0,symbol:"AAVE",variant:u,symbolsVariant:x,symbolsColor:"#A5A8B6",visibleDecimals:2})})]})},K=n(1279),q=n(71722),$=n(9144),J=n(2593),Q=n(58527),ee=n(43478),te=n(63206),ne=n(51183),re=n(77921),ie=function(){var e,t=(0,M.Z)().breakpoints,n=(0,W.Z)(t.down("xsm")),a=(0,_.Yh)((function(e){return e.currentMarket})),s=null===(e=re.w[re.e.proto_mainnet_v3].addresses.GHO_TOKEN_ADDRESS)||void 0===e?void 0:e.toLowerCase();return(0,j.jsx)(i.Z,{sx:{overflow:"hidden",height:{xs:132,xsm:124},display:"flex"},children:(0,j.jsxs)(i.Z,{sx:{width:"100%",marginTop:"auto",p:4,borderRadius:{xs:0,xsm:4},display:"flex",flexDirection:"column",alignItems:{xs:"flex-start",xsm:"center"},height:{xs:120,xsm:104},backgroundColor:"#9C93B338",position:"relative"},children:[(0,j.jsx)(i.Z,{component:"img",src:"/illustration_token.png",sx:{position:"absolute",left:-40,top:-33,width:250,height:250,overflow:"hidden",display:{xs:"none",xsm:"block"},transform:"matrix(1, -0.14, 0.14, 1, 0, 0)"},width:220,height:220,alt:"gho coin"}),(0,j.jsxs)(i.Z,{display:"flex",flexDirection:"column",alignItems:["flex-start","center"],gap:3,children:[(0,j.jsx)(o.Z,{variant:"subheader1",color:"text.primary",width:["221px","300px"],textAlign:["left","center"],children:n?(0,j.jsx)(r.cC,{id:"stkAAVE holders get a discount on GHO borrow rate"}):(0,j.jsx)(r.cC,{id:"Holders of stkAAVE receive a discount on the GHO borrowing rate"})}),(0,j.jsxs)(B.Z,{variant:"contained",component:z.rU,href:z.Z6.reserveOverview(s,a),size:n?"medium":"small",sx:{alignItems:"center",display:"flex",gap:[2,1]},children:[(0,j.jsx)(r.cC,{id:"{0}",values:{0:n?"View details":"VIEW DETAILS"}}),(0,j.jsx)(ne.Z,{width:n?20:12,height:n?20:12})]})]}),(0,j.jsx)(i.Z,{component:"img",src:"/illustration_friendly_ghost.png",sx:{position:"absolute",right:[-200,-190],bottom:[-265,-270],overflow:"hidden",transform:"scaleY(0.5) scaleX(0.5)"},alt:"gho ghost"})]})})},oe=n(92391),ae=function(e){var t=e.title,n=e.value,r=e.valueUSD,a=e.children,s=e.bottomLineTitle,l=e.bottomLineComponent,c=e.gradientBorder,d=e.dataCy,u=e.cooldownAmount;return(0,j.jsx)(i.Z,{sx:function(e){return{flex:1,display:"flex",borderRadius:"6px",border:"1px solid ".concat(e.palette.divider),position:"relative","&:after":{content:"''",borderRadius:"6px",position:"absolute",top:-1,bottom:-1,left:-1,right:-1,background:c?e.palette.gradients.aaveGradient:"transparent"}}},children:(0,j.jsxs)(i.Z,{sx:function(e){return{flex:1,p:4,display:"flex",alignItems:"center",flexDirection:"column",borderRadius:"6px",background:e.palette.background.paper,position:"relative",zIndex:2}},"data-cy":d,children:[(0,j.jsxs)(i.Z,{sx:{mb:6,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,j.jsx)(o.Z,{mb:1,color:"text.secondary",children:t}),(0,j.jsx)(p.B,{value:n,visibleDecimals:2,variant:"secondary21",color:0===+n?"text.muted":"text.primary","data-cy":"amountNative"}),(0,j.jsx)(p.B,{value:r,symbol:"USD",visibleDecimals:2,variant:"secondary12",color:0===+r?"text.muted":"text.secondary",symbolsColor:0===+r?"text.muted":"text.secondary","data-cy":"amountUSD"})]}),(0,j.jsx)(i.Z,{sx:{width:"100%",mb:2},children:a}),(0,j.jsx)(oe.X,{caption:s,captionVariant:"caption",captionColor:"text.secondary",width:"100%",children:l}),u]})})};function se(e){var t=function(e){return{d:Math.floor(e/86400),h:Math.floor(e%86400/3600),m:Math.floor(e%3600/60),s:Math.floor(e%60)}}(e.seconds),n=t.d,i=t.h,o=t.m,a=t.s;return(0,j.jsxs)(j.Fragment,{children:[0!==n&&(0,j.jsx)("span",{children:(0,j.jsx)(r.cC,{id:"{d}d",values:{d:n}})}),0!==i&&(0,j.jsx)("span",{children:(0,j.jsx)(r.cC,{id:"{h}h",values:{h:i}})}),0!==o&&(0,j.jsx)("span",{children:(0,j.jsx)(r.cC,{id:"{m}m",values:{m:o}})}),0!==a&&(0,j.jsx)("span",{children:(0,j.jsx)(r.cC,{id:"{s}s",values:{s:a}})})]})}var le=function(e){var t=e.onStakeAction,n=e.onStakeRewardClaimAction,a=e.onStakeRewardClaimRestakeAction,s=e.onCooldownAction,c=e.onUnstakeAction,d=e.stakeTitle,u=e.stakedToken,x=e.description,h=e.headerAction,v=e.icon,b=e.stakeData,g=e.stakeUserData,y=e.ethPriceUsd,k=e.maxSlash,w=e.hasDiscountProgram,C=(0,M.Z)().breakpoints,A=(0,W.Z)(C.up("xsm")),Z=(0,ee.p)(1),P=(null===b||void 0===b?void 0:b.stakeCooldownSeconds)||0,O=(null===g||void 0===g?void 0:g.userCooldownTimestamp)||0,S=(null===b||void 0===b?void 0:b.stakeUnstakeWindow)||0,T=Z-O,E=T<P+S,_=E&&T>P&&T<S+P,R=(0,l.formatEther)(J.O$.from((null===g||void 0===g?void 0:g.underlyingTokenUserBalance)||"0")),F=E&&J.O$.from((null===g||void 0===g?void 0:g.stakeTokenRedeemableAmount)||0).gt((null===g||void 0===g?void 0:g.userCooldownAmount)||0),V=(0,l.formatUnits)(J.O$.from((null===g||void 0===g?void 0:g.stakeTokenRedeemableAmount)||"0").mul((null===b||void 0===b?void 0:b.stakeTokenPriceEth)||"0").mul(y||"1"),44),N=(0,l.formatUnits)(J.O$.from((null===g||void 0===g?void 0:g.userIncentivesToClaim)||"0").mul((null===b||void 0===b?void 0:b.rewardTokenPriceEth)||"0").mul(y||"1"),44),L=(0,l.formatEther)((0,K.hE)((null===g||void 0===g?void 0:g.stakeTokenRedeemableAmount)||"0").dividedBy((null===b||void 0===b?void 0:b.stakeTokenTotalSupply)||"1").multipliedBy((null===b||void 0===b?void 0:b.distributionPerSecond)||"0").multipliedBy("2592000").toFixed(0));return(0,j.jsxs)(m.Z,{sx:{p:{xs:4,xsm:6},pt:4,height:"100%"},children:[(0,j.jsxs)(i.Z,{sx:{display:{xs:"none",xsm:"flex"},alignItems:"center",mb:8},children:[(0,j.jsxs)(o.Z,{variant:"h3",children:[(0,j.jsx)(r.cC,{id:"Stake"})," ",d]}),h&&(0,j.jsx)(i.Z,{sx:{ml:3},children:h})]}),(0,j.jsxs)(i.Z,{sx:function(e){return{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",xsm:"center"},flexDirection:{xs:"column",xsm:"row"},gap:{xs:0,xsm:2},borderRadius:{xs:0,xsm:"6px"},border:{xs:"unset",xsm:"1px solid ".concat(e.palette.divider)},p:{xs:0,xsm:4},background:{xs:"unset",xsm:e.palette.background.paper},position:"relative","&:after":{content:"''",position:"absolute",bottom:0,left:"-16px",width:"calc(100% + 32px)",height:"1px",bgcolor:{xs:"divider",xsm:"transparent"}}}},children:[(0,j.jsxs)(i.Z,{sx:{display:"flex",width:{xs:"100%",xsm:"unset"},justifyContent:"space-between",alignItems:"center",mb:{xs:3,xsm:0}},children:[(0,j.jsx)(f.T1,{symbol:v,sx:{fontSize:{xs:"40px",xsm:"32px"}}}),(0,j.jsx)(o.Z,{variant:A?"subheader1":"h4",ml:2,children:u}),h&&(0,j.jsx)(i.Z,{sx:{display:{xs:"block",xsm:"none"},textAlign:"right",flexGrow:1},children:h})]}),(0,j.jsxs)(i.Z,{sx:{display:{xs:"flex",xsm:"block"},width:{xs:"100%",xsm:"unset"},justifyContent:"space-between",alignItems:"center",mb:{xs:3,xsm:0}},children:[(0,j.jsx)(o.Z,{variant:A?"subheader2":"description",color:A?"text.secondary":"text.primary",children:(0,j.jsx)(r.cC,{id:"Staking APR"})}),(0,j.jsx)(p.B,{value:parseFloat((null===b||void 0===b?void 0:b.stakeApy)||"0")/1e4,percent:!0,variant:"secondary14"})]}),(0,j.jsxs)(i.Z,{sx:{display:{xs:"flex",xsm:"block"},width:{xs:"100%",xsm:"unset"},justifyContent:"space-between",alignItems:"center",mb:{xs:3,xsm:0}},children:[(0,j.jsx)(o.Z,{variant:A?"subheader2":"description",color:A?"text.secondary":"text.primary",children:(0,j.jsx)(r.cC,{id:"Max slashing"})}),(0,j.jsx)(p.B,{value:k,percent:!0,variant:"secondary14"})]}),(0,j.jsxs)(i.Z,{sx:{display:{xs:"flex",xsm:"block"},width:{xs:"100%",xsm:"unset"},justifyContent:"space-between",alignItems:"center",mb:{xs:3,xsm:0}},children:[(0,j.jsx)(o.Z,{variant:A?"subheader2":"description",color:A?"text.secondary":"text.primary",children:(0,j.jsx)(r.cC,{id:"Wallet Balance"})}),(0,j.jsx)(p.B,{value:R.toString()})]}),(0,j.jsx)(B.Z,{variant:"contained",sx:{minWidth:"96px",mb:{xs:6,xsm:0}},onClick:t,disabled:0===+R,fullWidth:!A,"data-cy":"stakeBtn_".concat(u.toUpperCase()),children:(0,j.jsx)(r.cC,{id:"Stake"})})]}),(0,j.jsxs)($.Z,{spacing:4,direction:{xs:"column",xsm:"row"},sx:{mt:4,alignItems:{xsm:"start"}},children:[(0,j.jsxs)(ae,{title:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.cC,{id:"Staked"})," ",u]}),value:(0,l.formatEther)((null===g||void 0===g?void 0:g.stakeTokenRedeemableAmount)||"0"),valueUSD:V,dataCy:"stakedBox_".concat(u),bottomLineTitle:(0,j.jsx)(Q.G,{variant:"caption",text:E&&!_?(0,j.jsx)(r.cC,{id:"Cooldown time left"}):_?(0,j.jsx)(r.cC,{id:"Time left to unstake"}):(0,j.jsx)(r.cC,{id:"Cooldown period"}),event:{eventName:I.vh.TOOL_TIP,eventParams:{tooltip:"Staking cooldown",funnel:"Staking Page",assetName:u}},children:(0,j.jsx)(j.Fragment,{children:E&&!_?(0,j.jsx)(r.cC,{id:"Time left to be able to withdraw your staked asset."}):_?(0,j.jsx)(r.cC,{id:"Time left until the withdrawal window closes."}):(0,j.jsx)(r.cC,{id:"You can only withdraw your assets from the Security Module after the cooldown period ends and the unstake window is active."})})}),bottomLineComponent:(0,j.jsx)(j.Fragment,{children:E&&!_?(0,j.jsx)(o.Z,{variant:"secondary14",sx:{display:"inline-flex",gap:1},children:(0,j.jsx)(se,{seconds:P-T})}):_?(0,j.jsx)(o.Z,{variant:"secondary14",sx:{display:"inline-flex",gap:1},children:(0,j.jsx)(se,{seconds:S+P-T})}):(0,j.jsx)(o.Z,{variant:"secondary14",children:(0,j.jsx)(se,{seconds:P})})}),cooldownAmount:E||_?(0,j.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between",pt:2},children:[(0,j.jsx)(o.Z,{variant:"caption",color:"text.secondary",children:(0,j.jsx)(r.cC,{id:"Amount in cooldown"})}),(0,j.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,j.jsx)(f.T1,{symbol:v,sx:{mr:1,width:14,height:14}}),(0,j.jsx)(p.B,{value:(0,l.formatEther)((null===g||void 0===g?void 0:g.userCooldownAmount)||0),variant:"secondary14",color:"text.primary"})]})]}):(0,j.jsx)(j.Fragment,{}),gradientBorder:_,children:[_&&(0,j.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,j.jsx)(B.Z,{variant:"gradient",fullWidth:!0,onClick:c,"data-cy":"unstakeBtn_".concat(u),children:(0,j.jsx)(r.cC,{id:"Unstake now"})}),F&&(0,j.jsx)(D.y,{title:(0,j.jsx)(o.Z,{variant:"caption",color:"common.white",sx:{textAlign:"center",width:"162px"},children:(0,j.jsx)(r.cC,{id:"Reactivate cooldown period to unstake {0} {stakedToken}",values:{0:Number((0,l.formatEther)((null===g||void 0===g?void 0:g.stakeTokenRedeemableAmount)||0)).toFixed(2),stakedToken:u}})}),children:(0,j.jsx)(B.Z,{variant:"outlined","data-cy":"reCoolDownBtn_".concat(u),sx:{ml:1,height:"36px",width:"36px",minWidth:"36px"},onClick:s,children:(0,j.jsx)(U.Z,{sx:{width:20,height:20},children:(0,j.jsx)(q.Z,{})})})})]}),E&&!_&&(0,j.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,j.jsx)(B.Z,{variant:"outlined",fullWidth:!0,disabled:!0,"data-cy":"awaitCoolDownBtn_".concat(u),sx:{height:"36px"},children:(0,j.jsx)(r.cC,{id:"Cooling down..."})}),F&&(0,j.jsx)(D.y,{title:(0,j.jsx)(o.Z,{variant:"caption",color:"common.white",sx:{textAlign:"center",width:"162px"},children:(0,j.jsx)(r.cC,{id:"Reactivate cooldown period to unstake {0} {stakedToken}",values:{0:Number((0,l.formatEther)((null===g||void 0===g?void 0:g.stakeTokenRedeemableAmount)||0)).toFixed(2),stakedToken:u}})}),children:(0,j.jsx)(B.Z,{variant:"outlined","data-cy":"reCoolDownBtn_".concat(u),sx:{ml:1,height:"36px",width:"36px",minWidth:"36px"},onClick:s,children:(0,j.jsx)(U.Z,{sx:{width:20,height:20},children:(0,j.jsx)(q.Z,{})})})})]}),!E&&(0,j.jsx)(B.Z,{variant:"outlined",fullWidth:!0,onClick:s,disabled:"0"===(null===g||void 0===g?void 0:g.stakeTokenRedeemableAmount),"data-cy":"coolDownBtn_".concat(u),children:(0,j.jsx)(r.cC,{id:"Cooldown to unstake"})})]}),(0,j.jsx)(ae,{title:(0,j.jsx)(r.cC,{id:"Claimable AAVE"}),value:(0,l.formatEther)((null===g||void 0===g?void 0:g.userIncentivesToClaim)||"0"),valueUSD:N,bottomLineTitle:(0,j.jsx)(r.cC,{id:"Aave per month"}),dataCy:"rewardBox_".concat(u),bottomLineComponent:(0,j.jsx)(p.B,{value:L,visibleDecimals:2,variant:"secondary14",color:0===+L?"text.disabled":"text.primary"}),children:(0,j.jsxs)(i.Z,{sx:{display:"flex",flexDirection:{sm:"row",xs:"column"},justifyContent:"space-between"},children:[(0,j.jsx)(B.Z,{variant:"contained",onClick:n,disabled:"0"===(null===g||void 0===g?void 0:g.userIncentivesToClaim),"data-cy":"claimBtn_".concat(u),sx:{flex:1,mb:{xs:2,sm:0},mr:{xs:0,sm:1}},children:(0,j.jsx)(r.cC,{id:"Claim"})}),"AAVE"===u&&(0,j.jsx)(B.Z,{variant:"contained",onClick:a,disabled:"0"===(null===g||void 0===g?void 0:g.userIncentivesToClaim),"data-cy":"restakeBtn_".concat(u),style:{flex:1},children:(0,j.jsx)(r.cC,{id:"Restake"})})]})})]}),!!x&&x,w&&(0,j.jsx)(i.Z,{sx:{mt:{xs:"20px",xsm:"36px"},px:{xsm:6},width:te.aV||te.p8?{xs:"100%",lg:"50%"}:"100%",marginX:"auto"},children:(0,j.jsx)(ie,{})})]})},ce=n(77537),de=(0,c.default)((function(){return Promise.all([n.e(7603),n.e(3793),n.e(1573),n.e(9566),n.e(9388)]).then(n.bind(n,89388)).then((function(e){return e.StakeModal}))}),{loadableGenerated:{webpack:function(){return[89388]}}}),ue=(0,c.default)((function(){return Promise.all([n.e(9506),n.e(3793),n.e(8236)]).then(n.bind(n,59904)).then((function(e){return e.StakeCooldownModal}))}),{loadableGenerated:{webpack:function(){return[59904]}}}),xe=(0,c.default)((function(){return Promise.all([n.e(7603),n.e(3793),n.e(7811)]).then(n.bind(n,56737)).then((function(e){return e.StakeRewardClaimModal}))}),{loadableGenerated:{webpack:function(){return[56737]}}}),me=(0,c.default)((function(){return Promise.all([n.e(7603),n.e(3793),n.e(1573),n.e(9566),n.e(8345)]).then(n.bind(n,58345)).then((function(e){return e.StakeRewardClaimRestakeModal}))}),{loadableGenerated:{webpack:function(){return[58345]}}}),he=(0,c.default)((function(){return Promise.all([n.e(7603),n.e(3793),n.e(4053)]).then(n.bind(n,8740)).then((function(e){return e.UnStakeModal}))}),{loadableGenerated:{webpack:function(){return[8740]}}});function pe(){var e=(0,ce.Z)(),t=e.currentAccount,n=e.loading,c=e.chainId,u=(0,O.f)(),x=u.data,m=u.isLoading,h=(0,v.I)(),p=h.data,f=h.isLoading,b=m||f,g=(0,S.vR)(),y=g.openStake,k=g.openStakeCooldown,w=g.openUnstake,T=g.openStakeRewardsClaim,B=g.openStakeRewardsRestakeClaim,D=(0,d.useState)("aave"),I=D[0],R=D[1],U=(0,te.Mo)(c).name,F=(0,_.Yh)((function(e){return e.trackEvent}));(0,d.useEffect)((function(){F("Page Viewed",{"Page Name":"Staking"})}),[F]);var V=(0,l.formatUnits)(s.BigNumber.from((null===p||void 0===p?void 0:p.aave.stakeTokenTotalSupply)||"0").mul((null===p||void 0===p?void 0:p.aave.stakeTokenPriceEth)||"0").add(s.BigNumber.from((null===p||void 0===p?void 0:p.bpt.stakeTokenTotalSupply)||"0").mul((null===p||void 0===p?void 0:p.bpt.stakeTokenPriceEth)||"0")).mul((null===p||void 0===p?void 0:p.ethPriceUsd)||1),44),L=(0,l.formatEther)(s.BigNumber.from((null===p||void 0===p?void 0:p.aave.distributionPerSecond)||"0").add((null===p||void 0===p?void 0:p.bpt.distributionPerSecond)||"0").mul("86400")),M="aave"===I;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(X,{tvl:V,stkEmission:L,loading:b}),(0,j.jsx)(A.O,{children:t?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.Z,{sx:{display:{xs:"flex",lg:"none"},justifyContent:{xs:"center",xsm:"flex-start"},mb:{xs:3,xsm:4}},children:(0,j.jsxs)(P.Z,{color:"primary",value:I,exclusive:!0,onChange:function(e,t){return R(t)},sx:{width:{xs:"100%",xsm:"359px"}},children:[(0,j.jsx)(Z.Z,{value:"aave",disabled:"aave"===I,children:(0,j.jsx)(o.Z,{variant:"subheader1",children:(0,j.jsx)(r.cC,{id:"Stake AAVE"})})}),(0,j.jsx)(Z.Z,{value:"bpt",disabled:"bpt"===I,children:(0,j.jsx)(o.Z,{variant:"subheader1",children:(0,j.jsx)(r.cC,{id:"Stake ABPT"})})})]})}),(0,j.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,j.jsx)(a.ZP,{item:!0,xs:12,lg:te.aV||te.p8?12:6,sx:{display:{xs:M?"block":"none",lg:"block"}},children:(0,j.jsx)(le,{stakeTitle:"AAVE",stakedToken:"AAVE",maxSlash:"0.3",icon:"aave",stakeData:null===p||void 0===p?void 0:p.aave,stakeUserData:null===x||void 0===x?void 0:x.aave,ethPriceUsd:null===p||void 0===p?void 0:p.ethPriceUsd,onStakeAction:function(){return y("aave","AAVE")},onCooldownAction:function(){return k("aave")},onUnstakeAction:function(){return w("aave","AAVE")},onStakeRewardClaimAction:function(){return T("aave","AAVE")},onStakeRewardClaimRestakeAction:function(){return B("aave","AAVE")},headerAction:(0,j.jsx)(E.f,{cryptoSymbol:"AAVE",networkMarketName:U}),hasDiscountProgram:!0})}),(0,j.jsx)(a.ZP,{item:!0,xs:12,lg:6,sx:{display:{xs:M?"none":"block",lg:"block"}},children:(0,j.jsx)(le,{stakeTitle:"ABPT",stakedToken:"ABPT",maxSlash:"0.3",icon:"stkbpt",stakeData:null===p||void 0===p?void 0:p.bpt,stakeUserData:null===x||void 0===x?void 0:x.bpt,ethPriceUsd:null===p||void 0===p?void 0:p.ethPriceUsd,onStakeAction:function(){return y("bpt","stkBPT")},onCooldownAction:function(){return k("bpt")},onUnstakeAction:function(){return w("bpt","stkBPT")},onStakeRewardClaimAction:function(){return T("bpt","AAVE")},headerAction:(0,j.jsx)(N,{})})})]})]}):(0,j.jsx)(C,{description:(0,j.jsx)(r.cC,{id:"We couldn\u2019t detect a wallet. Connect a wallet to stake and view your balance."}),loading:n})})]})}pe.getLayout=function(e){return(0,j.jsxs)(T.Z,{children:[e,(0,j.jsx)(de,{}),(0,j.jsx)(ue,{}),(0,j.jsx)(he,{}),(0,j.jsx)(xe,{}),(0,j.jsx)(me,{})]})}},28533:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(59499),i=n(49501),o=n(75331),a=n(30120),s=n(29630),l=n(91555),c=n(85893);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e,t){return e===o.a_.mainnet?"Ethereum Mainnet":t.name},m=function(e){var t=e.chainId,n=e.wrapperSx,r=l.m[t];return(0,c.jsxs)(a.Z,{sx:u({display:"flex",alignItems:"center"},n),children:[(0,c.jsx)(s.Z,{variant:"subheader2",sx:{mr:2,color:"#C0CBF6"},children:(0,c.jsx)(i.cC,{id:"Available on"})}),(0,c.jsx)(a.Z,{sx:{height:16,width:16},children:(0,c.jsx)("img",{src:r.networkLogoPath,height:"100%",width:"100%",alt:"Ethereum Mainnet"})}),(0,c.jsx)(s.Z,{variant:"subheader2",sx:{ml:1,color:"#C0CBF6"},children:x(t,r)})]})}},92391:function(e,t,n){"use strict";n.d(t,{X:function(){return u}});var r=n(59499),i=n(4730),o=n(30120),a=n(29630),s=n(85893),l=["caption","children","captionVariant","captionColor","align"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.caption,n=e.children,r=e.captionVariant,c=void 0===r?"secondary16":r,u=e.captionColor,x=e.align,m=void 0===x?"center":x,h=(0,i.Z)(e,l);return(0,s.jsxs)(o.Z,d(d({},h),{},{sx:d({display:"flex",alignItems:m,justifyContent:"space-between"},h.sx),children:[t&&(0,s.jsx)(a.Z,{component:"div",variant:c,color:u,sx:{mr:2},children:t}),n]}))}},77912:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var r=n(36492),i=n(31001),o=n(74946),a=function(){var e=(0,o.z)().uiStakeDataService;return(0,r.a)({queryFn:function(){return e.getGeneralStakeUIDataHumanized()},queryKey:[i.i.GENERAL_STAKE_UI_DATA,e.toHash()],refetchInterval:i.g})}},60265:function(e,t,n){"use strict";n.d(t,{f:function(){return s}});var r=n(36492),i=n(85802),o=n(31001),a=n(74946),s=function(){var e=(0,a.z)().uiStakeDataService,t=(0,i.Yh)((function(e){return e.account}));return(0,r.a)({queryFn:function(){return e.getUserStakeUIDataHumanized({user:t})},queryKey:[o.i.USER_STAKE_UI_DATA,t,e.toHash()],enabled:!!t,initialData:null,refetchInterval:o.g})}},57502:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/staking",function(){return n(62434)}])},71722:function(e,t,n){"use strict";var r=n(67294);const i=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))}));t.Z=i}},function(e){e.O(0,[4653,7529,7406,3160,2399,4815,5505,9774,2888,179],(function(){return t=57502,e(e.s=t);var t}));var t=e.O();_N_E=t}]);